<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">

    <title>BadrulStub_v002</title>
    <link rel="shortcut icon" type="image/x-icon" href="http://localhost:8888/static/base/images/favicon.ico?v=30780f272ab4aac64aa073a841546240">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="BadrulStub_v002_files/jquery-ui.css" type="text/css">
    <link rel="stylesheet" href="BadrulStub_v002_files/jquery.css" type="text/css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    


<script type="text/javascript" src="BadrulStub_v002_files/MathJax.js" charset="utf-8"></script>

<script type="text/javascript">
// MathJax disabled, set as null to distingish from *missing* MathJax,
// where it will be undefined, and should prompt a dialog later.
window.mathjax_url = "/static/components/MathJax/MathJax.js";
</script>

<link rel="stylesheet" href="BadrulStub_v002_files/bootstrap-tour.css" type="text/css">
<link rel="stylesheet" href="BadrulStub_v002_files/codemirror.css">


    <link rel="stylesheet" href="BadrulStub_v002_files/style.css" type="text/css">
    

<link rel="stylesheet" href="BadrulStub_v002_files/override.css" type="text/css">
<link rel="stylesheet" href="" id="kernel-css" type="text/css">


    <link rel="stylesheet" href="BadrulStub_v002_files/custom.css" type="text/css">
    <script src="BadrulStub_v002_files/promise.js" type="text/javascript" charset="utf-8"></script>
    <script src="BadrulStub_v002_files/require.js" type="text/javascript" charset="utf-8"></script>
    <script>
      require.config({
          
          urlArgs: "v=20170110103912",
          
          baseUrl: '/static/',
          paths: {
            'auth/js/main': 'auth/js/main.min',
            custom : '/custom',
            nbextensions : '/nbextensions',
            kernelspecs : '/kernelspecs',
            underscore : 'components/underscore/underscore-min',
            backbone : 'components/backbone/backbone-min',
            jquery: 'components/jquery/jquery.min',
            bootstrap: 'components/bootstrap/js/bootstrap.min',
            bootstraptour: 'components/bootstrap-tour/build/js/bootstrap-tour.min',
            'jquery-ui': 'components/jquery-ui/ui/minified/jquery-ui.min',
            moment: 'components/moment/moment',
            codemirror: 'components/codemirror',
            termjs: 'components/term.js/src/term',
            typeahead: 'components/jquery-typeahead/dist/jquery.typeahead'
          },
	  map: { // for backward compatibility
	    "*": {
		"jqueryui": "jquery-ui",
	    }
	  },
          shim: {
            typeahead: {
              deps: ["jquery"],
              exports: "typeahead"
            },
            underscore: {
              exports: '_'
            },
            backbone: {
              deps: ["underscore", "jquery"],
              exports: "Backbone"
            },
            bootstrap: {
              deps: ["jquery"],
              exports: "bootstrap"
            },
            bootstraptour: {
              deps: ["bootstrap"],
              exports: "Tour"
            },
            "jquery-ui": {
              deps: ["jquery"],
              exports: "$"
            }
          },
          waitSeconds: 30,
      });

      require.config({
          map: {
              '*':{
                'contents': 'services/contents',
              }
          }
      });

      define("bootstrap", function () {
          return window.$;
      });

      define("jquery", function () {
          return window.$;
      });

      define("jqueryui", function () {
          return window.$;
      });

      define("jquery-ui", function () {
          return window.$;
      });
    </script>

    
    

<script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="services/contents" src="BadrulStub_v002_files/contents.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="custom/custom" src="BadrulStub_v002_files/custom.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="nbextensions/rise/main" src="BadrulStub_v002_files/main_002.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="nbextensions/jupyter-js-widgets/extension" src="BadrulStub_v002_files/extension.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="nbextensions/calico-spell-check" src="BadrulStub_v002_files/calico-spell-check.js"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><link rel="stylesheet" href="BadrulStub_v002_files/main.css" id="maincss"><link type="text/css" rel="stylesheet" href="BadrulStub_v002_files/calico-spell-check.css"><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="nbextensions/typo/typo" src="BadrulStub_v002_files/typo.js"></script><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 0; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax:focus, body :focus .MathJax {display: inline-table}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none}
.MathJax .MathJax_EmBox {display: block!important; overflow: hidden; width: 1px; height: 60em; min-height: 0; max-height: none}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Blank; src: url('about:blank')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.widget-modal-backdrop{position:absolute;left:0;top:0;width:100%;height:100%;background:#000;z-index:999;opacity:.5;display:flex;align-items:center;justify-content:center;flex-direction:column}.widget-modal-backdrop.widget-modal-hidden{display:none}.widget-modal-backdrop.widget-modal-hide{animation:fadeout .25s}.widget-modal-backdrop.widget-modal-show{animation:fadein .25s}@keyframes fadein{from{opacity:0}to{opacity:.5}}@keyframes fadeout{from{opacity:.5}to{opacity:0}}.widget-modal-text{color:#fff;font-size:x-large;font-weight:700}.widget-modal-text div,.widget-modal-text i{display:inline}.widget-modal-text div{padding-left:1ex}.widget-modal-progress{width:300px}.jupyter-widgets{margin:2px}.jupyter-widgets.widget-container{margin:0}.widget-area{page-break-inside:avoid;-webkit-box-orient:horizontal;-webkit-box-align:stretch;-moz-box-orient:horizontal;-moz-box-align:stretch;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}.widget-area .widget-subarea{padding:.4em 0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;-webkit-box-flex:2;-moz-box-flex:2;box-flex:2;flex:2;-webkit-box-orient:vertical;-webkit-box-align:stretch;-moz-box-orient:vertical;-moz-box-align:stretch;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}.widget-area.connection-problems .prompt:after{content:"\F127";font-family:FontAwesome;color:#d9534f;top:3px;padding:3px}.slide-track{border:1px solid #CCC;background:#FFF;border-radius:2px}.widget-hslider{width:300px}.widget-hslider .slider-container{padding-left:8px;padding-right:2px;overflow:visible;flex-grow:1;height:5px;max-height:5px;margin-top:15px;margin-bottom:12px;border:1px solid #CCC;background:#FFF;border-radius:2px;-webkit-box-orient:horizontal;-webkit-box-align:stretch;-moz-box-orient:horizontal;-moz-box-align:stretch;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}.widget-hslider .slider-container .ui-slider{-webkit-box-orient:horizontal;-webkit-box-align:stretch;-moz-box-orient:horizontal;-moz-box-align:stretch;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1;border:0;background:0 0}.widget-hslider .slider-container .ui-slider .ui-slider-handle{width:12px;height:28px;margin-top:-8px;border-radius:2px}.widget-hslider .slider-container .ui-slider .ui-slider-range{height:12px;margin-top:-4px}.widget-vslider{width:50px;height:250px}.widget-vslider .slider-container{padding-bottom:5px;overflow:visible;flex-grow:1;width:5px;max-width:5px;margin-left:auto;margin-right:auto;border:1px solid #CCC;background:#FFF;border-radius:2px;-webkit-box-orient:vertical;-webkit-box-align:stretch;-moz-box-orient:vertical;-moz-box-align:stretch;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}.widget-vslider .slider-container .ui-slider{-webkit-box-orient:vertical;-webkit-box-align:stretch;-moz-box-orient:vertical;-moz-box-align:stretch;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1;border:0;background:0 0;margin-left:-4px;margin-top:5px}.widget-vslider .slider-container .ui-slider .ui-slider-handle{width:28px;height:12px;margin-left:-9px;border-radius:2px}.widget-vslider .slider-container .ui-slider .ui-slider-range{width:12px;margin-left:-1px}.widget-colorpicker{width:300px;display:flex}.widget-colorpicker.short{width:148px}.widget-colorpicker .input-group{flex-grow:1}.jupyter-button{width:148px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12)}.jupyter-button.btn,.jupyter-button.btn.hover,.jupyter-button.btn:active,.jupyter-button.btn:focus{outline:0!important}.jupyter-button.btn:active{box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2)}.widget-checkbox{width:148px}.widget-button,.widget-toggle-button{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12);width:148px;height:32px}.widget-button.btn,.widget-button.btn.hover,.widget-button.btn:active,.widget-button.btn:focus,.widget-toggle-button.btn,.widget-toggle-button.btn.hover,.widget-toggle-button.btn:active,.widget-toggle-button.btn:focus{outline:0!important}.widget-button.btn:active,.widget-toggle-button.btn:active{box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2)}.widget-play{width:148px;display:flex;justify-content:space-between}.widget-play button{height:32px;width:48px}.widget-toggle-button{width:148px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12)}.widget-toggle-button.btn,.widget-toggle-button.btn.hover,.widget-toggle-button.btn:active,.widget-toggle-button.btn:focus,.widget-toggle-buttons .btn,.widget-toggle-buttons .btn.hover,.widget-toggle-buttons .btn:active,.widget-toggle-buttons .btn:focus{outline:0!important}.widget-toggle-buttons .btn.active{box-shadow:none!important}.widget-toggle-buttons .btn-group{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12)}.widget-text{width:300px}.widget-textarea{width:300px}.widget-listbox{width:300px}.widget-select-multiple{width:300px}.widget-select-multiple select.form-control{margin-left:0;margin-right:0}.widget-dropdown{width:300px}.widget-dropdown .widget_item{display:flex;flex-grow:1}.widget-dropdown .widget-combo-btn{flex-grow:1;min-width:10px}.widget-dropdown .dropdown-menu{max-height:200px;overflow:hidden;overflow-y:auto;width:calc(275px)}.widget-hprogress{width:300px;height:32px}.widget-hprogress .progress{flex-grow:1;margin-top:auto;margin-bottom:auto}.widget-hprogress .progress-bar{-webkit-transition:none;-moz-transition:none;-ms-transition:none;-o-transition:none;transition:none}.widget-vprogress{height:250px;width:50px}.widget-vprogress .progress{flex-grow:1;width:12px;margin-left:auto;margin-right:auto;margin-bottom:0}.widget-vprogress .progress-bar{-webkit-transition:none;-moz-transition:none;-ms-transition:none;-o-transition:none;transition:none}.widget-combo-btn{min-width:123px}.widget_item .dropdown-menu li a{color:inherit}.widget-valid{margin:8px 5px 16px}.widget-hbox{-webkit-box-orient:horizontal;-webkit-box-align:stretch;-moz-box-orient:horizontal;-moz-box-align:stretch;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}.widget-hbox input[type=checkbox]{margin-top:10px;margin-bottom:10px}.widget-hbox input[type=color]{height:32px;width:28px;padding:1px}.widget-hbox .widget-label{min-width:10ex;max-width:10ex;padding-right:8px;padding-top:5px;text-align:right;vertical-align:text-top;word-wrap:break-word}.widget-hbox .widget-readout{padding-left:4px;padding-top:5px;height:32px;text-align:center;vertical-align:text-top;min-width:7em;max-width:7em;margin-left:3px;overflow:hidden;white-space:nowrap}.widget-hbox .widget-readout.overflow{-webkit-box-shadow:0 0 0 1px rgba(77,0,0,.15);-moz-box-shadow:0 0 0 1px rgba(77,0,0,.15);box-shadow:0 0 0 1px rgba(77,0,0,.15)}.widget-vbox{-webkit-box-orient:vertical;-webkit-box-align:stretch;-moz-box-orient:vertical;-moz-box-align:stretch;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}.widget-vbox input[type=color]{height:32px;padding:1px}.widget-vbox .widget-label{padding-bottom:5px;text-align:center;vertical-align:text-bottom}.widget-vbox .widget-readout{padding-top:5px;white-space:nowrap;text-align:center;vertical-align:text-top;margin-top:4px;overflow:hidden}.widget-vbox .widget-readout.overflow{-webkit-box-shadow:0 0 0 1px rgba(77,0,0,.15);-moz-box-shadow:0 0 0 1px rgba(77,0,0,.15);box-shadow:0 0 0 1px rgba(77,0,0,.15)}.widget-box{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;-webkit-box-align:start;-moz-box-align:start;box-align:start;align-items:flex-start}.widget-radio-box{-webkit-box-orient:vertical;-webkit-box-align:stretch;-moz-box-orient:vertical;-moz-box-align:stretch;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding-top:4px}.widget-radio-box label{margin-top:2px;margin-bottom:2px;margin-left:22px}/*# sourceMappingURL=widgets.min.css.map */</style><style type="text/css">@font-face {font-family: STIXMathJax_Main; src: url('http://localhost:8888/static/components/MathJax/fonts/HTML-CSS/STIX-Web/woff/STIXMathJax_Main-Italic.woff?rev=2.6.0') format('woff'), url('http://localhost:8888/static/components/MathJax/fonts/HTML-CSS/STIX-Web/otf/STIXMathJax_Main-Italic.otf?rev=2.6.0') format('opentype'); font-style: italic}
</style><style type="text/css">@font-face {font-family: STIXMathJax_Main; src: url('http://localhost:8888/static/components/MathJax/fonts/HTML-CSS/STIX-Web/woff/STIXMathJax_Main-Regular.woff?rev=2.6.0') format('woff'), url('http://localhost:8888/static/components/MathJax/fonts/HTML-CSS/STIX-Web/otf/STIXMathJax_Main-Regular.otf?rev=2.6.0') format('opentype')}
</style></head>

<body class="notebook_app edit_mode" data-base-url="/" data-ws-url="" data-notebook-name="BadrulStub_v002.ipynb" data-notebook-path="assignments/2016/assignment3/problem/group_x/Badrul/BadrulStub_v002.ipynb"><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px none; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div id="MathJax_Message" style="display: none;"></div>

<noscript>
    <div id='noscript'>
      Jupyter Notebook requires JavaScript.<br>
      Please enable it to proceed.
  </div>
</noscript>

<div id="header" style="display: block;">
  <div id="header-container" class="container">
  <div id="ipython_notebook" class="nav navbar-brand pull-left"><a href="http://localhost:8888/tree" title="dashboard"><img src="BadrulStub_v002_files/logo.png" alt="Jupyter Notebook"></a></div>

  
  
  

    <span id="login_widget">
      
    </span>

  

  

  


<span id="save_widget" class="pull-left save_widget">
    <span id="notebook_name" class="filename">BadrulStub_v002</span>
    <span class="checkpoint_status" title="Sun, Jan 15, 2017 8:54 PM">Last Checkpoint: a few seconds ago</span>
    <span class="autosave_status">(unsaved changes)</span>
</span>

<span id="kernel_logo_widget">
  
  <img class="current_kernel_logo" src="BadrulStub_v002_files/logo-64x64.png" style="display: inline;">
  
</span>


  </div>
  <div class="header-bar"></div>

  
<div id="menubar-container" class="container">
<div id="menubar">
    <div id="menus" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <button type="button" class="btn btn-default navbar-btn navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <i class="fa fa-bars"></i>
              <span class="navbar-text">Menu</span>
            </button>
            <p id="kernel_indicator" class="navbar-text indicator_area">
              <span class="kernel_indicator_name">Python 3</span>
              <i id="kernel_indicator_icon" class="kernel_idle_icon" title="Kernel Idle"></i>
            </p>
            <i id="readonly-indicator" class="navbar-text" title="This notebook is read-only" style="display: none;">
                <span class="fa-stack">
                    <i class="fa fa-save fa-stack-1x"></i>
                    <i class="fa fa-ban fa-stack-2x text-danger"></i>
                </span>
            </i>
            <i id="modal_indicator" class="navbar-text modal_indicator" title="Edit Mode"></i>
            <span id="notification_area"><div id="notification_kernel" class="notification_widget btn btn-xs navbar-btn undefined info" style="display: none;"><span></span></div><div id="notification_notebook" class="notification_widget btn btn-xs navbar-btn" style="display: none;"><span></span></div><div id="notification_widgets" class="notification_widget btn btn-xs navbar-btn" style="display: none;"><span></span></div></span>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav">
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">File</a>
                    <ul id="file_menu" class="dropdown-menu">
                        <li id="new_notebook" class="dropdown-submenu">
                            <a href="#">New Notebook</a>
                            <ul class="dropdown-menu" id="menu-new-notebook-submenu"><li id="new-notebook-submenu-python3"><a href="#">Python 3</a></li><li class="divider"></li><li id="new-notebook-submenu-python2"><a href="#">Python 2</a></li></ul>
                        </li>
                        <li id="open_notebook" title="Opens a new window with the Dashboard view">
                            <a href="#">Open...</a></li>
                        <!-- <hr/> -->
                        <li class="divider"></li>
                        <li id="copy_notebook" title="Open a copy of this notebook's contents and start a new kernel">
                            <a href="#">Make a Copy...</a></li>
                        <li id="rename_notebook"><a href="#">Rename...</a></li>
                        <li id="save_checkpoint"><a href="#">Save and Checkpoint</a></li>
                        <!-- <hr/> -->
                        <li class="divider"></li>
                        <li id="restore_checkpoint" class="dropdown-submenu"><a href="#">Revert to Checkpoint</a>
                          <ul class="dropdown-menu"><li><a href="#">Sunday, January 15, 2017 8:54 PM</a></li></ul>
                        </li>
                        <li class="divider"></li>
                        <li id="print_preview"><a href="#">Print Preview</a></li>
                        <li class="dropdown-submenu"><a href="#">Download as</a>
                            <ul class="dropdown-menu">
                                <li id="download_ipynb"><a href="#">Notebook (.ipynb)</a></li>
                                <li id="download_script"><a href="#">Python (.py)</a></li>
                                <li id="download_html"><a href="#">HTML (.html)</a></li>
                                <li id="download_markdown"><a href="#">Markdown (.md)</a></li>
                                <li id="download_rst"><a href="#">reST (.rst)</a></li>
                                <li id="download_pdf"><a href="#">PDF via LaTeX (.pdf)</a></li>
                            </ul>
                        </li>
                        <li class="divider"></li>
                        <li id="trust_notebook" title="Trust the output of this notebook" class="disabled">
                            <a href="#">Trusted Notebook</a></li>
                        <li class="divider"></li>
                        <li id="kill_and_exit" title="Shutdown this notebook's kernel, and close this window">
                            <a href="#">Close and Halt</a></li>
                    </ul>
                </li>
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Edit</a>
                    <ul id="edit_menu" class="dropdown-menu">
                        <li id="cut_cell"><a href="#">Cut Cells</a></li>
                        <li id="copy_cell"><a href="#">Copy Cells</a></li>
                        <li id="paste_cell_above" class="disabled"><a href="#">Paste Cells Above</a></li>
                        <li id="paste_cell_below" class="disabled"><a href="#">Paste Cells Below</a></li>
                        <li id="paste_cell_replace" class="disabled"><a href="#">Paste Cells &amp; Replace</a></li>
                        <li id="delete_cell"><a href="#">Delete Cells</a></li>
                        <li id="undelete_cell" class="disabled"><a href="#">Undo Delete Cells</a></li>
                        <li class="divider"></li>
                        <li id="split_cell"><a href="#">Split Cell</a></li>
                        <li id="merge_cell_above"><a href="#">Merge Cell Above</a></li>
                        <li id="merge_cell_below"><a href="#">Merge Cell Below</a></li>
                        <li class="divider"></li>
                        <li id="move_cell_up"><a href="#">Move Cell Up</a></li>
                        <li id="move_cell_down"><a href="#">Move Cell Down</a></li>
                        <li class="divider"></li>
                        <li id="edit_nb_metadata"><a href="#">Edit Notebook Metadata</a></li>
                        <li class="divider"></li>
                        <li id="find_and_replace"><a href="#"> Find and Replace </a></li>
                    </ul>
                </li>
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">View</a>
                    <ul id="view_menu" class="dropdown-menu">
                        <li id="toggle_header" title="Show/Hide the logo and notebook title (above menu bar)">
                            <a href="#">Toggle Header</a></li>
                        <li id="toggle_toolbar" title="Show/Hide the action icons (below menu bar)">
                            <a href="#">Toggle Toolbar</a></li>
                        <li id="menu-cell-toolbar" class="dropdown-submenu">
                            <a href="#">Cell Toolbar</a>
                            <ul class="dropdown-menu" id="menu-cell-toolbar-submenu"><li data-name="None"><a href="#">None</a></li><li data-name="Edit%20Metadata"><a href="#">Edit Metadata</a></li><li data-name="Raw%20Cell%20Format"><a href="#">Raw Cell Format</a></li><li data-name="Slideshow"><a href="#">Slideshow</a></li></ul>
                        </li>
                    </ul>
                </li>
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Insert</a>
                    <ul id="insert_menu" class="dropdown-menu">
                        <li id="insert_cell_above" title="Insert an empty Code cell above the currently active cell">
                            <a href="#">Insert Cell Above</a></li>
                        <li id="insert_cell_below" title="Insert an empty Code cell below the currently active cell">
                            <a href="#">Insert Cell Below</a></li>
                    </ul>
                </li>
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Cell</a>
                    <ul id="cell_menu" class="dropdown-menu">
                        <li id="run_cell" title="Run this cell, and move cursor to the next one">
                            <a href="#">Run Cells</a></li>
                        <li id="run_cell_select_below" title="Run this cell, select below">
                            <a href="#">Run Cells and Select Below</a></li>
                        <li id="run_cell_insert_below" title="Run this cell, insert below">
                            <a href="#">Run Cells and Insert Below</a></li>
                        <li id="run_all_cells" title="Run all cells in the notebook">
                            <a href="#">Run All</a></li>
                        <li id="run_all_cells_above" title="Run all cells above (but not including) this cell">
                            <a href="#">Run All Above</a></li>
                        <li id="run_all_cells_below" title="Run this cell and all cells below it">
                            <a href="#">Run All Below</a></li>
                        <li class="divider"></li>
                        <li id="change_cell_type" class="dropdown-submenu" title="All cells in the notebook have a cell type. By default, new cells are created as 'Code' cells">
                            <a href="#">Cell Type</a>
                            <ul class="dropdown-menu">
                              <li id="to_code" title="Contents will be sent to the kernel for execution, and output will display in the footer of cell">
                                  <a href="#">Code</a></li>
                              <li id="to_markdown" title="Contents will be rendered as HTML and serve as explanatory text">
                                  <a href="#">Markdown</a></li>
                              <li id="to_raw" title="Contents will pass through nbconvert unmodified">
                                  <a href="#">Raw NBConvert</a></li>
                            </ul>
                        </li>
                        <li class="divider"></li>
                        <li id="current_outputs" class="dropdown-submenu"><a href="#">Current Outputs</a>
                            <ul class="dropdown-menu">
                                <li id="toggle_current_output" title="Hide/Show the output of the current cell">
                                    <a href="#">Toggle</a>
                                </li>
                                <li id="toggle_current_output_scroll" title="Scroll the output of the current cell">
                                    <a href="#">Toggle Scrolling</a>
                                </li>
                                <li id="clear_current_output" title="Clear the output of the current cell">
                                    <a href="#">Clear</a>
                                </li>
                            </ul>
                        </li>
                        <li id="all_outputs" class="dropdown-submenu"><a href="#">All Output</a>
                            <ul class="dropdown-menu">
                                <li id="toggle_all_output" title="Hide/Show the output of all cells">
                                    <a href="#">Toggle</a>
                                </li>
                                <li id="toggle_all_output_scroll" title="Scroll the output of all cells">
                                    <a href="#">Toggle Scrolling</a>
                                </li>
                                <li id="clear_all_output" title="Clear the output of all cells">
                                    <a href="#">Clear</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Kernel</a>
                    <ul id="kernel_menu" class="dropdown-menu">
                        <li id="int_kernel" title="Send KeyboardInterrupt (CTRL-C) to the Kernel">
                            <a href="#">Interrupt</a>
                        </li>
                        <li id="restart_kernel" title="Restart the Kernel">
                            <a href="#">Restart</a>
                        </li>
                        <li id="restart_clear_output" title="Restart the Kernel and clear all output">
                            <a href="#">Restart &amp; Clear Output</a>
                        </li>
                        <li id="restart_run_all" title="Restart the Kernel and re-run the notebook">
                            <a href="#">Restart &amp; Run All</a>
                        </li>
                        <li id="reconnect_kernel" title="Reconnect to the Kernel">
                            <a href="#">Reconnect</a>
                        </li>
                        <li class="divider"></li>
                        <li id="menu-change-kernel" class="dropdown-submenu">
                            <a href="#">Change kernel</a>
                            <ul class="dropdown-menu" id="menu-change-kernel-submenu"><li id="kernel-submenu-python2"><a href="#">Python 2</a></li><li id="kernel-submenu-python3"><a href="#">Python 3</a></li></ul>
                        </li>
                    </ul>
                </li>
                <li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Widgets</a><ul id="widget-submenu" class="dropdown-menu"><li title="Rasterizes the current state of the widgets to the notebook as PNG images."><a href="#">Save notebook with snapshots</a></li><li title="Download the widget state as a JSON file"><a href="#">Download widget state</a></li><li title="Embed interactive widgets"><a href="#">Embed widgets</a></li></ul></li><li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Help</a>
                    <ul id="help_menu" class="dropdown-menu">
                        
                        <li id="notebook_tour" title="A quick tour of the notebook user interface"><a href="#">User Interface Tour</a></li>
                        <li id="keyboard_shortcuts" title="Opens a tooltip with all keyboard shortcuts"><a href="#">Keyboard Shortcuts</a></li>
                        <li class="divider"></li>
                        

                        
                            
                                <li><a rel="noreferrer" href="http://nbviewer.ipython.org/github/ipython/ipython/blob/3.x/examples/Notebook/Index.ipynb" target="_blank" title="Opens in a new window">
                                
                                    <i class="fa fa-external-link menu-icon pull-right"></i>
                                

                                Notebook Help
                                </a></li>
                            
                                <li><a rel="noreferrer" href="https://help.github.com/articles/markdown-basics/" target="_blank" title="Opens in a new window">
                                
                                    <i class="fa fa-external-link menu-icon pull-right"></i>
                                

                                Markdown
                                </a></li>
                            
                            
                        
                        <li id="kernel-help-links" class="divider"></li><li><a target="_blank" title="Opens in a new window" href="http://docs.python.org/3.5?v=20170110103912"><i class="fa fa-external-link menu-icon pull-right"></i><span>Python</span></a></li><li><a target="_blank" title="Opens in a new window" href="http://ipython.org/documentation.html?v=20170110103912"><i class="fa fa-external-link menu-icon pull-right"></i><span>IPython</span></a></li><li><a target="_blank" title="Opens in a new window" href="http://docs.scipy.org/doc/numpy/reference/?v=20170110103912"><i class="fa fa-external-link menu-icon pull-right"></i><span>NumPy</span></a></li><li><a target="_blank" title="Opens in a new window" href="http://docs.scipy.org/doc/scipy/reference/?v=20170110103912"><i class="fa fa-external-link menu-icon pull-right"></i><span>SciPy</span></a></li><li><a target="_blank" title="Opens in a new window" href="http://matplotlib.org/contents.html?v=20170110103912"><i class="fa fa-external-link menu-icon pull-right"></i><span>Matplotlib</span></a></li><li><a target="_blank" title="Opens in a new window" href="http://docs.sympy.org/latest/index.html?v=20170110103912"><i class="fa fa-external-link menu-icon pull-right"></i><span>SymPy</span></a></li><li><a target="_blank" title="Opens in a new window" href="http://pandas.pydata.org/pandas-docs/stable/?v=20170110103912"><i class="fa fa-external-link menu-icon pull-right"></i><span>pandas</span></a></li><li class="divider"></li>
                        <li title="About Jupyter Notebook"><a id="notebook_about" href="#">About</a></li>
                        
                    </ul>
                </li>
              </ul>
            </div>
        </div>
    </div>
</div>

<div id="maintoolbar" class="navbar">
  <div class="toolbar-inner navbar-inner navbar-nobg">
    <div id="maintoolbar-container" class="container toolbar"><div class="btn-group" id="save-notbook"><button class="btn btn-default" title="Save and Checkpoint" data-jupyter-action="jupyter-notebook:save-notebook"><i class="fa-save fa"></i></button></div><div class="btn-group" id="insert_above_below"><button class="btn btn-default" title="insert cell below" data-jupyter-action="jupyter-notebook:insert-cell-below"><i class="fa-plus fa"></i></button></div><div class="btn-group" id="cut_copy_paste"><button class="btn btn-default" title="cut selected cells" data-jupyter-action="jupyter-notebook:cut-cell"><i class="fa-cut fa"></i></button><button class="btn btn-default" title="copy selected cells" data-jupyter-action="jupyter-notebook:copy-cell"><i class="fa-copy fa"></i></button><button class="btn btn-default" title="paste cells below" data-jupyter-action="jupyter-notebook:paste-cell-below"><i class="fa-paste fa"></i></button></div><div class="btn-group" id="move_up_down"><button class="btn btn-default" title="move selected cells up" data-jupyter-action="jupyter-notebook:move-cell-up"><i class="fa-arrow-up fa"></i></button><button class="btn btn-default" title="move selected cells down" data-jupyter-action="jupyter-notebook:move-cell-down"><i class="fa-arrow-down fa"></i></button></div><div class="btn-group" id="run_int"><button class="btn btn-default" title="run cell, select below" data-jupyter-action="jupyter-notebook:run-cell-and-select-next"><i class="fa-step-forward fa"></i></button><button class="btn btn-default" title="interrupt kernel" data-jupyter-action="jupyter-notebook:interrupt-kernel"><i class="fa-stop fa"></i></button><button class="btn btn-default" title="restart the kernel (with dialog)" data-jupyter-action="jupyter-notebook:confirm-restart-kernel"><i class="fa-repeat fa"></i></button></div><select id="cell_type" class="form-control select-xs"><option value="code" selected="selected">Code</option><option value="markdown">Markdown</option><option value="raw">Raw NBConvert</option><option value="heading">Heading</option><option value="multiselect" disabled="disabled" style="display: none;">-</option></select><div class="btn-group"><button class="btn btn-default" title="open the command palette" data-jupyter-action="jupyter-notebook:show-command-palette"><i class="fa-keyboard-o fa"></i></button></div><div class="btn-group"><button title="show new celltoolbar selector location" class="btn btn-default">CellToolbar</button></div><div class="btn-group"><button class="btn btn-default" title="Enter/Exit Live Reveal Slideshow" id="start_livereveal"><i class="fa-bar-chart-o fa"></i></button></div><div class="btn-group"><button class="btn btn-default" title="Toggle spell checking on a markdown cell"><i class="fa-check-square fa"></i></button></div></div>
  </div>
</div>
</div>

<div class="lower-header-bar"></div>

</div>

<div id="site" style="height: 606px; display: block;">


<div id="ipython-main-app">
    <div id="notebook_panel">
        <div id="notebook" tabindex="-1"><div class="container" id="notebook-container"><div class="cell text_cell rendered unselected" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.60001px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 555px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-comment">&lt;!---</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">Latex Macros</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">--&gt;</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-delimit cm-delimit-open">$</span><span class="cm-delimit cm-delimit-close">$</span></span></pre><pre class=" CodeMirror-line "><span>\newcommand{\bar}{\,|\,}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\Xs}{\mathcal{X}}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\Ys}{\mathcal{Y}}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\y}{\mathbf{y}}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\weights}{\mathbf{w}}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\balpha}{\boldsymbol{\alpha}}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\bbeta}{\boldsymbol{\beta}}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\aligns}{\mathbf{a}}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\align}{a}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\source}{\mathbf{s}}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\target}{\mathbf{t}}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\ssource}{s}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\starget}{t}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\repr}{\mathbf{f}}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\repry}{\mathbf{g}}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\x}{\mathbf{x}}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\prob}{p}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\vocab}{V}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\params}{\boldsymbol{\theta}}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\param}{\theta}</span></pre><pre class=" CodeMirror-line "><span>\DeclareMathOperator{\perplexity}{PP}</span></pre><pre class=" CodeMirror-line "><span>\DeclareMathOperator{\argmax}{argmax}</span></pre><pre class=" CodeMirror-line "><span>\DeclareMathOperator{\argmin}{argmin}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\train}{\mathcal{D}}</span></pre><pre class=" CodeMirror-line "><span>\newcommand{\counts}[2]{\#<span class="cm-em">_{#1}(#2) }</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-em">\newcommand{\length}[1]{\text{length}(#1) }</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-em">\newcommand{\indi}{\mathbb{I}}</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-delimit cm-delimit-open">$</span><span class="cm-delimit cm-delimit-close">$</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 555px;"></div><div class="CodeMirror-gutters" style="display: none; height: 577px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1">
<p><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot; /&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" role="math" style="width: 0.018em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(3.802em, 1000em, 4.147em, -1000em); top: -3.975em; left: 0em;"><span class="mrow" id="MathJax-Span-2"></span><span style="display: inline-block; width: 0px; height: 3.975em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.071em; border-left: 0px solid; width: 0px; height: 0.143em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-1">
\newcommand{\bar}{\,|\,}
\newcommand{\Xs}{\mathcal{X}}
\newcommand{\Ys}{\mathcal{Y}}
\newcommand{\y}{\mathbf{y}}
\newcommand{\weights}{\mathbf{w}}
\newcommand{\balpha}{\boldsymbol{\alpha}}
\newcommand{\bbeta}{\boldsymbol{\beta}}
\newcommand{\aligns}{\mathbf{a}}
\newcommand{\align}{a}
\newcommand{\source}{\mathbf{s}}
\newcommand{\target}{\mathbf{t}}
\newcommand{\ssource}{s}
\newcommand{\starget}{t}
\newcommand{\repr}{\mathbf{f}}
\newcommand{\repry}{\mathbf{g}}
\newcommand{\x}{\mathbf{x}}
\newcommand{\prob}{p}
\newcommand{\vocab}{V}
\newcommand{\params}{\boldsymbol{\theta}}
\newcommand{\param}{\theta}
\DeclareMathOperator{\perplexity}{PP}
\DeclareMathOperator{\argmax}{argmax}
\DeclareMathOperator{\argmin}{argmin}
\newcommand{\train}{\mathcal{D}}
\newcommand{\counts}[2]{\#_{#1}(#2) }
\newcommand{\length}[1]{\text{length}(#1) }
\newcommand{\indi}{\mathbb{I}}
</script></p>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.60001px; left: 5.60001px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 32px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 20.75px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-1"># Assignment 3</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 32px;"></div><div class="CodeMirror-gutters" style="display: none; height: 54px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h1 id="Assignment-3">Assignment 3<a class="anchor-link" href="#Assignment-3">¶</a></h1>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.60001px; left: 5.60001px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 166px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 19.0833px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## Introduction</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>In the last assignment, you will apply deep learning methods to solve a particular story understanding problem. Automatic understanding of stories is an important task in natural language understanding <span class="cm-link">[[1]]</span><span class="cm-string cm-url">(http://anthology.aclweb.org/D/D13/D13-1020.pdf)</span>. Specifically, you will develop a model that given a sequence of sentences learns to sort these sentence in order to yield a coherent story <span class="cm-link">[[2]]</span><span class="cm-string cm-url">(https://www.microsoft.com/en-us/research/wp-content/uploads/2016/06/short-commonsense-stories.pdf)</span>. This sounds (and to an extent is) trivial for humans, however it is a quite difficult task for machines as it involves commonsense knowledge and temporal understanding.</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 166px;"></div><div class="CodeMirror-gutters" style="display: none; height: 188px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Introduction">Introduction<a class="anchor-link" href="#Introduction">¶</a></h2>
<p>In the last assignment, you will apply deep learning methods to solve
 a particular story understanding problem. Automatic understanding of 
stories is an important task in natural language understanding <a href="http://anthology.aclweb.org/D/D13/D13-1020.pdf" target="_blank">[1]</a>.
 Specifically, you will develop a model that given a sequence of 
sentences learns to sort these sentence in order to yield a coherent 
story <a href="https://www.microsoft.com/en-us/research/wp-content/uploads/2016/06/short-commonsense-stories.pdf" target="_blank">[2]</a>.
 This sounds (and to an extent is) trivial for humans, however it is a 
quite difficult task for machines as it involves commonsense knowledge 
and temporal understanding.</p>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59998px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 421px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 19.0833px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## Goal</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>You are given a dataset of 45502 instances, each consisting of 5 sentences. Your system needs to ouput a sequence of numbers which represent the predicted order of these sentences. For example, given a story:</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment">He went to the store.</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment">He found a lamp he liked.</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment">He bought the lamp.</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment">Jan decided to get a new lamp.</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment">Jan's lamp broke.</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>your system needs to provide an answer in the following form:</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment">2<span class="cm-tab" role="presentation" cm-text="	">   </span>3<span class="cm-tab" role="presentation" cm-text="	">   </span>4<span class="cm-tab" role="presentation" cm-text="	">   </span>1<span class="cm-tab" role="presentation" cm-text="	">   </span>0</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>where the numbers correspond to the zero-based index of each sentence in the correctly ordered story. So "<span class="cm-comment">`2`</span>" for "<span class="cm-comment">`He went to the store.`</span>" means that this sentence should come 3rd in the correctly ordered target story. In This particular example, this order of indices corresponds to the following target story:</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment">Jan's lamp broke.</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment">Jan decided to get a new lamp.</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment">He went to the store.</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment">He found a lamp he liked.</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment">He bought the lamp.</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 421px;"></div><div class="CodeMirror-gutters" style="display: none; height: 443px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Goal">Goal<a class="anchor-link" href="#Goal">¶</a></h2>
<p>You are given a dataset of 45502 instances, each consisting of 5 
sentences. Your system needs to ouput a sequence of numbers which 
represent the predicted order of these sentences. For example, given a 
story:</p>
<pre><code>He went to the store.
He found a lamp he liked.
He bought the lamp.
Jan decided to get a new lamp.
Jan's lamp broke.
</code></pre><p>your system needs to provide an answer in the following form:</p>
<pre><code>2    3    4    1    0
</code></pre><p>where the numbers correspond to the zero-based index of each sentence in the correctly ordered story. So "<code>2</code>" for "<code>He went to the store.</code>"
 means that this sentence should come 3rd in the correctly ordered 
target story. In This particular example, this order of indices 
corresponds to the following target story:</p>
<pre><code>Jan's lamp broke.
Jan decided to get a new lamp.
He went to the store.
He found a lamp he liked.
He bought the lamp.
</code></pre></div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59998px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 608px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 19.0833px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## Resources</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>To develop your model(s), we provide a training and a development datasets. The test dataset will be held out, and we will use it to evaluate your models. The test set is coming from the same task distribution, and you don't need to expect drastic changes in it.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>You will use <span class="cm-link">[TensorFlow]</span><span class="cm-string cm-url">(https://www.tensorflow.org/)</span> to build a deep learning model for the task. We provide a very crude system which solves the task with a low accuracy, and a set of additional functions you will have to use to save and load the model you create so that we can run it.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>As we have to run the notebooks of each submission, and as deep learning models take long time to train, your notebook <span class="cm-strong">**NEEDS**</span> to conform to the following requirements:</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* You </span><span class="cm-strong cm-variable-2">**NEED**</span><span class="cm-variable-2"> to run your parameter optimisation offline, and provide your final model saved by using the provided function</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* The maximum size of a zip file you can upload to moodle is 160MB. We will </span><span class="cm-strong cm-variable-2">**NOT**</span><span class="cm-variable-2"> allow submissions larger than that.</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* We do not have time to train your models from scratch! You </span><span class="cm-strong cm-variable-2">**NEED**</span><span class="cm-variable-2"> to provide the full code you used for the training of your model, but by all means you </span><span class="cm-strong cm-variable-2">**CANNOT**</span><span class="cm-variable-2"> call the training method in the notebook you will send to us.</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* We will run these notebooks automatically. If your notebook runs the training procedure, in addition to loading the model, and we need to edit your code to stop the training, you will be penalised with </span><span class="cm-strong cm-variable-2">**-20 points**</span><span class="cm-variable-2">.</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* If you do not provide a pretrained model, and rely on training your model on our machines, you will get </span><span class="cm-strong cm-variable-2">**0 points**</span><span class="cm-variable-2">.</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* It needs to be tested on the stat-nlp-book Docker setup to ensure that it does not have any dependencies outside of those that we provide. If your submission fails to adhere to this requirement, you will get </span><span class="cm-strong cm-variable-2">**0 points**</span><span class="cm-variable-2">.</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>Running time and memory issues:</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* We have tested a possible solution on a mid-2014 MacBook Pro, and a few epochs of the model run in less than 3min. Thus it is possible to train a model on the data in reasonable time. However, be aware that you will need to run these models many times over, for a larger number of epochs (more elaborate models, trained on much larger datasets can train for weeks! However, this shouldn't be the case here.). If you find training times too long for your development cycle you can reduce the training set size. Once you have found a good solution you can increase the size again. Caveat: model parameters tuned on a smaller dataset may not be optimal for a larger training set.</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* In addition to this, as your submission is capped by size, feel free to experiment with different model sizes, numeric values of different precisions, filtering the vocabulary size, downscaling some vectors, etc.</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 608px;"></div><div class="CodeMirror-gutters" style="display: none; height: 630px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Resources">Resources<a class="anchor-link" href="#Resources">¶</a></h2>
<p>To develop your model(s), we provide a training and a development 
datasets. The test dataset will be held out, and we will use it to 
evaluate your models. The test set is coming from the same task 
distribution, and you don't need to expect drastic changes in it.</p>
<p>You will use <a href="https://www.tensorflow.org/" target="_blank">TensorFlow</a>
 to build a deep learning model for the task. We provide a very crude 
system which solves the task with a low accuracy, and a set of 
additional functions you will have to use to save and load the model you
 create so that we can run it.</p>
<p>As we have to run the notebooks of each submission, and as deep learning models take long time to train, your notebook <strong>NEEDS</strong> to conform to the following requirements:</p>
<ul>
<li>You <strong>NEED</strong> to run your parameter optimisation offline, and provide your final model saved by using the provided function</li>
<li>The maximum size of a zip file you can upload to moodle is 160MB. We will <strong>NOT</strong> allow submissions larger than that.</li>
<li>We do not have time to train your models from scratch! You <strong>NEED</strong> to provide the full code you used for the training of your model, but by all means you <strong>CANNOT</strong> call the training method in the notebook you will send to us.</li>
<li>We will run these notebooks automatically. If your notebook runs the
 training procedure, in addition to loading the model, and we need to 
edit your code to stop the training, you will be penalised with <strong>-20 points</strong>.</li>
<li>If you do not provide a pretrained model, and rely on training your model on our machines, you will get <strong>0 points</strong>.</li>
<li>It needs to be tested on the stat-nlp-book Docker setup to ensure 
that it does not have any dependencies outside of those that we provide.
 If your submission fails to adhere to this requirement, you will get <strong>0 points</strong>.</li>
</ul>
<p>Running time and memory issues:</p>
<ul>
<li>We have tested a possible solution on a mid-2014 MacBook Pro, and a 
few epochs of the model run in less than 3min. Thus it is possible to 
train a model on the data in reasonable time. However, be aware that you
 will need to run these models many times over, for a larger number of 
epochs (more elaborate models, trained on much larger datasets can train
 for weeks! However, this shouldn't be the case here.). If you find 
training times too long for your development cycle you can reduce the 
training set size. Once you have found a good solution you can increase 
the size again. Caveat: model parameters tuned on a smaller dataset may 
not be optimal for a larger training set.</li>
<li>In addition to this, as your submission is capped by size, feel free
 to experiment with different model sizes, numeric values of different 
precisions, filtering the vocabulary size, downscaling some vectors, 
etc.</li>
</ul>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 659px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 19.0833px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## Hints</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>A non-exhaustive list of things you might want to give a try:</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">- better tokenization</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">- experiment with pre-trained word representations such as </span><span class="cm-link cm-variable-2">[word2vec]</span><span class="cm-string cm-url cm-variable-2">(https://code.google.com/archive/p/word2vec/)</span><span class="cm-variable-2">, or </span><span class="cm-link cm-variable-2">[GloVe]</span><span class="cm-string cm-url cm-variable-2">(http://nlp.stanford.edu/projects/glove/)</span><span class="cm-variable-2">. Be aware that these representations might take a lot of parameters in your model. Be sure you use only the words you expect in the training/dev set and account for OOV words. When saving the model parameters, pre-rained word embeddings can simply be used in the word embedding matrix of your model. As said, make sure that this word embedding matrix does not contain all of word2vec or GloVe. Your submission is limited, and we will not allow uploading nor using the whole representations set (up to 3GB!)</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">- reduced sizes of word representations</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">- bucketing and batching (our implementation is deliberately not a good one!)</span></span></pre><pre class=" CodeMirror-line "><span>  <span class="cm-variable-3">- make sure to draw random batches from the data! (we do not provide this in our code!)</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">- better models:</span></span></pre><pre class=" CodeMirror-line "><span>  <span class="cm-variable-3">- stacked RNNs (see tf.nn.rnn_cell.MultiRNNCel</span></span></pre><pre class=" CodeMirror-line "><span>  <span class="cm-variable-2">- bi-directional RNNs</span></span></pre><pre class=" CodeMirror-line "><span>  <span class="cm-variable-2">- attention</span></span></pre><pre class=" CodeMirror-line "><span>  <span class="cm-variable-2">- word-by-word attention</span></span></pre><pre class=" CodeMirror-line "><span>  <span class="cm-variable-2">- conditional encoding</span></span></pre><pre class=" CodeMirror-line "><span>  <span class="cm-variable-2">- get model inspirations from papers on </span><span class="cm-variable-2 cm-link">nlp.stanford.edu/projects/snli/</span></span></pre><pre class=" CodeMirror-line "><span>  <span class="cm-variable-2">- sequence-to-sequence encoder-decode architecture for producing the right ordering</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">- better training procedure:</span></span></pre><pre class=" CodeMirror-line "><span>  <span class="cm-variable-3">- different training algorithms</span></span></pre><pre class=" CodeMirror-line "><span>  <span class="cm-variable-2">- dropout on the input and output embeddings (see tf.nn.dropout)</span></span></pre><pre class=" CodeMirror-line "><span>  <span class="cm-variable-2">- L2 regularization (see tf.nn.l2_loss)</span></span></pre><pre class=" CodeMirror-line "><span>  <span class="cm-variable-2">- gradient clipping (see tf.clip_by_value or tf.clip_by_norm)</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">- model selection:</span></span></pre><pre class=" CodeMirror-line "><span>  <span class="cm-variable-3">- early stopping</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">- hyper-parameter optimization (e.g. random search or grid search (expensive!))</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable-3">- initial learning rate</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable-2">- dropout probability</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable-2">- input and output size</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable-2">- L2 regularization</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable-2">- gradient clipping value</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable-2">- batch size</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable-2">- ...</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">- post-processing</span></span></pre><pre class=" CodeMirror-line "><span>  <span class="cm-variable-3">- for incorporating consistency constraints</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 659px;"></div><div class="CodeMirror-gutters" style="display: none; height: 681px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Hints">Hints<a class="anchor-link" href="#Hints">¶</a></h2>
<p>A non-exhaustive list of things you might want to give a try:</p>
<ul>
<li>better tokenization</li>
<li>experiment with pre-trained word representations such as <a href="https://code.google.com/archive/p/word2vec/" target="_blank">word2vec</a>, or <a href="http://nlp.stanford.edu/projects/glove/" target="_blank">GloVe</a>.
 Be aware that these representations might take a lot of parameters in 
your model. Be sure you use only the words you expect in the 
training/dev set and account for OOV words. When saving the model 
parameters, pre-rained word embeddings can simply be used in the word 
embedding matrix of your model. As said, make sure that this word 
embedding matrix does not contain all of word2vec or GloVe. Your 
submission is limited, and we will not allow uploading nor using the 
whole representations set (up to 3GB!)</li>
<li>reduced sizes of word representations</li>
<li>bucketing and batching (our implementation is deliberately not a good one!)<ul>
<li>make sure to draw random batches from the data! (we do not provide this in our code!)</li>
</ul>
</li>
<li>better models:<ul>
<li>stacked RNNs (see tf.nn.rnn_cell.MultiRNNCel</li>
<li>bi-directional RNNs</li>
<li>attention</li>
<li>word-by-word attention</li>
<li>conditional encoding</li>
<li>get model inspirations from papers on nlp.stanford.edu/projects/snli/</li>
<li>sequence-to-sequence encoder-decode architecture for producing the right ordering</li>
</ul>
</li>
<li>better training procedure:<ul>
<li>different training algorithms</li>
<li>dropout on the input and output embeddings (see tf.nn.dropout)</li>
<li>L2 regularization (see tf.nn.l2_loss)</li>
<li>gradient clipping (see tf.clip_by_value or tf.clip_by_norm)</li>
</ul>
</li>
<li>model selection:<ul>
<li>early stopping</li>
</ul>
</li>
<li>hyper-parameter optimization (e.g. random search or grid search (expensive!))<ul>
<li>initial learning rate</li>
<li>dropout probability</li>
<li>input and output size</li>
<li>L2 regularization</li>
<li>gradient clipping value</li>
<li>batch size</li>
<li>...</li>
</ul>
</li>
<li>post-processing<ul>
<li>for incorporating consistency constraints</li>
</ul>
</li>
</ul>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59985px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 336px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 19.0833px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## Setup Instructions</span></span></pre><pre class=" CodeMirror-line "><span>It is important that this file is placed in the <span class="cm-strong">**correct directory**</span>. It will not run otherwise. The correct directory is</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment">DIRECTORY_OF_YOUR_BOOK/assignments/2016/assignment3/problem/group_X/</span></span></pre><pre class=" CodeMirror-line "><span>    </span></pre><pre class=" CodeMirror-line "><span>where <span class="cm-comment">`DIRECTORY_OF_YOUR_BOOK`</span> is a placeholder for the directory you downloaded the book to, and in <span class="cm-comment">`X`</span> in <span class="cm-comment">`group_X`</span> contains the number of your group.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>After you placed it there, <span class="cm-strong">**rename the notebook file**</span> to <span class="cm-comment">`group_X`</span>.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>The notebook is pre-set to save models in</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment">DIRECTORY_OF_YOUR_BOOK/assignments/2016/assignment3/problem/group_X/model/</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>Be sure not to tinker with that - we expect your submission to contain a <span class="cm-comment">`model`</span> subdirectory with a single saved model! </span></pre><pre class=" CodeMirror-line "><span>The saving procedure might overwrite the latest save, or not. Make sure you understand what it does, and upload only a single model! (for more details check tf.train.Saver)</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 336px;"></div><div class="CodeMirror-gutters" style="display: none; height: 358px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Setup-Instructions">Setup Instructions<a class="anchor-link" href="#Setup-Instructions">¶</a></h2>
<p>It is important that this file is placed in the <strong>correct directory</strong>. It will not run otherwise. The correct directory is</p>
<pre><code>DIRECTORY_OF_YOUR_BOOK/assignments/2016/assignment3/problem/group_X/
</code></pre><p>where <code>DIRECTORY_OF_YOUR_BOOK</code> is a placeholder for the directory you downloaded the book to, and in <code>X</code> in <code>group_X</code> contains the number of your group.</p>
<p>After you placed it there, <strong>rename the notebook file</strong> to <code>group_X</code>.</p>
<p>The notebook is pre-set to save models in</p>
<pre><code>DIRECTORY_OF_YOUR_BOOK/assignments/2016/assignment3/problem/group_X/model/
</code></pre><p>Be sure not to tinker with that - we expect your submission to contain a <code>model</code>
 subdirectory with a single saved model! 
The saving procedure might overwrite the latest save, or not. Make sure 
you understand what it does, and upload only a single model! (for more 
details check tf.train.Saver)</p>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59985px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 302px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 19.0833px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## General Instructions</span></span></pre><pre class=" CodeMirror-line "><span>This notebook will be used by you to provide your solution, and by us to both assess your solution and enter your marks. It contains three types of sections:</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">1. </span><span class="cm-strong cm-variable-2">**Setup**</span><span class="cm-variable-2"> Sections: these sections set up code and resources for assessment. </span><span class="cm-strong cm-variable-2">**Do not edit, move nor copy these cells**</span><span class="cm-variable-2">.</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">2. </span><span class="cm-strong cm-variable-2">**Assessment**</span><span class="cm-variable-2"> Sections: these sections are used for both evaluating the output of your code, and for markers to enter their marks. </span><span class="cm-strong cm-variable-2">**Do not edit, move, nor copy these cells**</span><span class="cm-variable-2">.</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">3. </span><span class="cm-strong cm-variable-2">**Task**</span><span class="cm-variable-2"> Sections: these sections require your solutions. They may contain stub code, and you are expected to edit this code. For free text answers simply edit the markdown field.</span><span class="cm-variable-2 cm-trailing-space-a"> </span><span class="cm-variable-2 cm-trailing-space-new-line"> </span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-strong">**If you edit, move or copy any of the setup, assessments and mark cells, you will be penalised with -20 points**</span>.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>Note that you are free to <span class="cm-strong">**create additional notebook cells**</span> within a task section. </span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>Please <span class="cm-strong">**do not share**</span> this assignment nor the dataset publicly, by uploading it online, emailing it to friends etc.</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 302px;"></div><div class="CodeMirror-gutters" style="display: none; height: 324px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="General-Instructions">General Instructions<a class="anchor-link" href="#General-Instructions">¶</a></h2>
<p>This notebook will be used by you to provide your solution, and by us
 to both assess your solution and enter your marks. It contains three 
types of sections:</p>
<ol>
<li><strong>Setup</strong> Sections: these sections set up code and resources for assessment. <strong>Do not edit, move nor copy these cells</strong>.</li>
<li><strong>Assessment</strong> Sections: these sections are used for both evaluating the output of your code, and for markers to enter their marks. <strong>Do not edit, move, nor copy these cells</strong>.</li>
<li><strong>Task</strong> Sections: these sections require your 
solutions. They may contain stub code, and you are expected to edit this
 code. For free text answers simply edit the markdown field.  </li>
</ol>
<p><strong>If you edit, move or copy any of the setup, assessments and mark cells, you will be penalised with -20 points</strong>.</p>
<p>Note that you are free to <strong>create additional notebook cells</strong> within a task section. </p>
<p>Please <strong>do not share</strong> this assignment nor the dataset publicly, by uploading it online, emailing it to friends etc.</p>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 336px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 19.0833px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## Submission Instructions</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>To submit your solution:</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* Make sure that your solution is fully contained in this notebook. Make sure you do not use any additional files other than your saved model.</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* Make sure that your solution runs linearly from start to end (no execution hops). We will run your notebook in that order.</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* </span><span class="cm-strong cm-variable-2">**Before you submit, make sure your submission is tested on the stat-nlp-book Docker setup to ensure that it does not have any dependencies outside of those that we provide. If your submission fails to adhere to this requirement, you will get 0 points**</span><span class="cm-variable-2">.</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* </span><span class="cm-strong cm-variable-2">**If running your notebook produces a trivially fixable error that we spot, we will correct it and penalise you with -20 points. Otherwise you will get 0 points for that solution.**</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* </span><span class="cm-strong cm-variable-2">**Rename this notebook to your </span><span class="cm-strong cm-comment cm-variable-2">`group_X`</span><span class="cm-strong cm-variable-2">**</span><span class="cm-variable-2"> (where </span><span class="cm-comment cm-variable-2">`X`</span><span class="cm-variable-2"> is the number of your group), and adhere to the directory structure requirements, if you have not already done so. </span><span class="cm-strong cm-variable-2">** Failure to do so will result in -1 point.**</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* Download the notebook in Jupyter via </span><span class="cm-em cm-variable-2">*File -&gt; Download as -&gt; Notebook (.ipynb)*</span><span class="cm-variable-2">.</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* Your submission should be a zip file containing the </span><span class="cm-comment cm-variable-2">`group_X`</span><span class="cm-variable-2"> directory, containing </span><span class="cm-comment cm-variable-2">`group_X.ipynb`</span><span class="cm-variable-2"> notebook, and the </span><span class="cm-comment cm-variable-2">`model`</span><span class="cm-variable-2"> directory with </span><span class="cm-strong cm-variable-2">____</span><span class="cm-em cm-variable-2">_</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-em cm-variable-2">* Upload that file to the Moodle submission site.</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 336px;"></div><div class="CodeMirror-gutters" style="display: none; height: 358px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Submission-Instructions">Submission Instructions<a class="anchor-link" href="#Submission-Instructions">¶</a></h2>
<p>To submit your solution:</p>
<ul>
<li>Make sure that your solution is fully contained in this notebook. 
Make sure you do not use any additional files other than your saved 
model.</li>
<li>Make sure that your solution runs linearly from start to end (no execution hops). We will run your notebook in that order.</li>
<li><strong>Before you submit, make sure your submission is tested on 
the stat-nlp-book Docker setup to ensure that it does not have any 
dependencies outside of those that we provide. If your submission fails 
to adhere to this requirement, you will get 0 points</strong>.</li>
<li><strong>If running your notebook produces a trivially fixable error 
that we spot, we will correct it and penalise you with -20 points. 
Otherwise you will get 0 points for that solution.</strong></li>
<li><strong>Rename this notebook to your <code>group_X</code></strong> (where <code>X</code> is the number of your group), and adhere to the directory structure requirements, if you have not already done so. <strong> Failure to do so will result in -1 point.</strong></li>
<li>Download the notebook in Jupyter via <em>File -&gt; Download as -&gt; Notebook (.ipynb)</em>.</li>
<li>Your submission should be a zip file containing the <code>group_X</code> directory, containing <code>group_X.ipynb</code> notebook, and the <code>model</code> directory with <strong>_</strong></li>
<li>Upload that file to the Moodle submission site.</li>
</ul>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59985px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 47px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 19.0833px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## </span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">font</span> <span class="cm-attribute">color</span>=<span class="cm-string">'green'</span><span class="cm-tag cm-bracket">&gt;</span>Setup 1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">font</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-header cm-header-2">: Load Libraries</span></span></pre><pre class=" CodeMirror-line "><span>This cell loads libraries important for evaluation and assessment of your model. <span class="cm-strong">**Do not change, move or copy it.**</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 47px;"></div><div class="CodeMirror-gutters" style="display: none; height: 69px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Setup-1:-Load-Libraries"><font color="green">Setup 1</font>: Load Libraries<a class="anchor-link" href="#Setup-1:-Load-Libraries">¶</a></h2>
<p>This cell loads libraries important for evaluation and assessment of your model. <strong>Do not change, move or copy it.</strong></p>
</div></div></div><div class="cell code_cell rendered unselected" tabindex="2"><div class="input"><div class="prompt input_prompt">In&nbsp;[1]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 226.6px; left: 397.267px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off">rnn_cell</textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; min-width: 778px; margin-bottom: -8px; border-right-width: 22px; min-height: 249px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style="visibility: hidden;"><div class="CodeMirror-cursor" style="left: 391.667px; top: 221px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-operator">%%</span><span class="cm-variable">capture</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-operator">%</span><span class="cm-variable">load_ext</span> <span class="cm-variable">autoreload</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-operator">%</span><span class="cm-variable">autoreload</span> <span class="cm-number">2</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-operator">%</span><span class="cm-variable">matplotlib</span> <span class="cm-variable">inline</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">#! SETUP 1 - DO NOT CHANGE, MOVE NOR COPY</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">import</span> <span class="cm-variable">sys</span>, <span class="cm-variable">os</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">#_snlp_book_dir = "../../../../../"</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">_snlp_book_dir</span> = <span class="cm-string">"../../../../../../"</span> <span class="cm-comment"># added one extra "../" because we are in user folder</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">sys</span>.<span class="cm-variable">path</span>.<span class="cm-variable">append</span>(<span class="cm-variable">_snlp_book_dir</span>)</span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># docker image contains tensorflow 0.10.0rc0. We will support execution of only that version!</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">import</span> <span class="cm-variable">statnlpbook</span>.<span class="cm-variable">nn</span> <span class="cm-keyword">as</span> <span class="cm-variable">nn</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">import</span> <span class="cm-variable">tensorflow</span> <span class="cm-keyword">as</span> <span class="cm-variable">tf</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">from</span> <span class="cm-variable">tensorflow</span>.<span class="cm-variable">python</span>.<span class="cm-variable">ops</span> <span class="cm-keyword">import</span> <span class="cm-variable">rnn</span>, <span class="cm-variable">rnn_cell</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 249px;"></div><div class="CodeMirror-gutters" style="display: none; height: 271px;"></div></div></div></div></div></div><div class="widget-area connection-problems" style="display: none;"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div style="" class="out_prompt_overlay prompt" title="click to scroll output; double click to hide"></div><div class="output" style=""></div><div style="display: none;" class="btn btn-default output_collapsed" title="click to expand output">. . .</div></div></div><div class="cell text_cell rendered unselected" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 115px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 19.0833px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## </span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">font</span> <span class="cm-attribute">color</span>=<span class="cm-string">'green'</span><span class="cm-tag cm-bracket">&gt;</span>Setup 2<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">font</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-header cm-header-2">: Load Training Data</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>This cell loads the training data. <span class="cm-strong">**Do not edit the next cell, nor copy/duplicate it**</span>. Instead refer to the variables in your own code, and slice and dice them as you see fit (but do not change their values). </span></pre><pre class=" CodeMirror-line "><span>For example, no one stops you from introducing, in the corresponding task section, <span class="cm-comment">`my_train`</span> and <span class="cm-comment">`my_dev`</span> variables that split the data into different folds.<span class="cm-trailing-space-a"> </span><span class="cm-trailing-space-b"> </span><span class="cm-trailing-space-new-line"> </span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 137px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Setup-2:-Load-Training-Data"><font color="green">Setup 2</font>: Load Training Data<a class="anchor-link" href="#Setup-2:-Load-Training-Data">¶</a></h2>
<p>This cell loads the training data. <strong>Do not edit the next cell, nor copy/duplicate it</strong>. Instead refer to the variables in your own code, and slice and dice them as you see fit (but do not change their values). 
For example, no one stops you from introducing, in the corresponding task section, <code>my_train</code> and <code>my_dev</code> variables that split the data into different folds.   </p>
</div></div></div><div class="cell code_cell unselected rendered" tabindex="2"><div class="input"><div class="prompt input_prompt">In&nbsp;[2]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59961px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; min-width: 436.333px; margin-bottom: -8px; border-right-width: 22px; min-height: 96px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-comment">#! SETUP 2 - DO NOT CHANGE, MOVE NOR COPY</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">data_path</span> = <span class="cm-variable">_snlp_book_dir</span> <span class="cm-operator">+</span> <span class="cm-string">"data/nn/"</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">data_train</span> = <span class="cm-variable">nn</span>.<span class="cm-variable">load_corpus</span>(<span class="cm-variable">data_path</span> <span class="cm-operator">+</span> <span class="cm-string">"train.tsv"</span>)</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">data_dev</span> = <span class="cm-variable">nn</span>.<span class="cm-variable">load_corpus</span>(<span class="cm-variable">data_path</span> <span class="cm-operator">+</span> <span class="cm-string">"dev.tsv"</span>)</span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">assert</span>(<span class="cm-builtin">len</span>(<span class="cm-variable">data_train</span>) <span class="cm-operator">==</span> <span class="cm-number">45502</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 96px;"></div><div class="CodeMirror-gutters" style="display: none; height: 118px;"></div></div></div></div></div></div><div class="widget-area connection-problems" style="display: none;"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div style="" class="out_prompt_overlay prompt" title="click to scroll output; double click to hide"></div><div class="output" style=""></div><div style="display: none;" class="btn btn-default output_collapsed" title="click to expand output">. . .</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59985px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 131px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 18.25px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-3">### Data Structures</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>Notice that the data is loaded from tab-separated files. The files are easy to read, and we provide the loading functions that load it into a simple data structure. Feel free to check details of the loading.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>The data structure at hand is an array of dictionaries, each containing a <span class="cm-comment">`story`</span> and the <span class="cm-comment">`order`</span> entry. <span class="cm-comment">`story`</span> is a list of strings, and <span class="cm-comment">`order`</span> is a list of integer indices:</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 131px;"></div><div class="CodeMirror-gutters" style="display: none; height: 153px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h3 id="Data-Structures">Data Structures<a class="anchor-link" href="#Data-Structures">¶</a></h3>
<p>Notice that the data is loaded from tab-separated files. The files 
are easy to read, and we provide the loading functions that load it into
 a simple data structure. Feel free to check details of the loading.</p>
<p>The data structure at hand is an array of dictionaries, each containing a <code>story</code> and the <code>order</code> entry. <code>story</code> is a list of strings, and <code>order</code> is a list of integer indices:</p>
</div></div></div><div class="cell code_cell unselected rendered" tabindex="2"><div class="input"><div class="prompt input_prompt">In&nbsp;[3]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; min-width: 111.333px; margin-bottom: -8px; border-right-width: 22px; min-height: 28px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-variable">data_train</span>[<span class="cm-number">0</span>]</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 28px;"></div><div class="CodeMirror-gutters" style="display: none; height: 50px;"></div></div></div></div></div></div><div class="widget-area connection-problems" style="display: none;"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div style="" class="out_prompt_overlay prompt" title="click to scroll output; double click to hide"></div><div class="output" style=""><div class="output_area"><div class="prompt output_prompt">Out[3]:</div><div class="output_subarea output_text output_result"><pre>{'order': [3, 2, 1, 0, 4],
 'story': ['His parents understood and decided to make a change.',
  'The doctors told his parents it was unhealthy.',
  'Dan was overweight as well.',
  "Dan's parents were overweight.",
  'They got themselves and Dan on a diet.']}</pre></div></div></div><div style="display: none;" class="btn btn-default output_collapsed" title="click to expand output">. . .</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 253px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 19.0833px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## </span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">font</span> <span class="cm-attribute">color</span>=<span class="cm-string">'blue'</span><span class="cm-tag cm-bracket">&gt;</span>Task 1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">font</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-header cm-header-2">: Model implementation</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>Your primary task in this assignment is to implement a model that produces the right order of the sentences in the dataset.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-3">### Preprocessing pipeline</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>First, we construct a preprocessing pipeline, in our case <span class="cm-comment">`pipeline`</span> function which takes care of:</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">- out-of-vocabulary words</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">- building a vocabulary (on the train set), and applying the same unaltered vocabulary on other sets (dev and test)</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">- making sure that the length of input is the same for the train and dev/test sets (for fixed-sized models)</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>You are free (and encouraged!) to do your own input processing function. Should you experiment with recurrent neural networks, you will find that you will need to do so.</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 253px;"></div><div class="CodeMirror-gutters" style="display: none; height: 275px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Task-1:-Model-implementation"><font color="blue">Task 1</font>: Model implementation<a class="anchor-link" href="#Task-1:-Model-implementation">¶</a></h2>
<p>Your primary task in this assignment is to implement a model that produces the right order of the sentences in the dataset.</p>
<h3 id="Preprocessing-pipeline">Preprocessing pipeline<a class="anchor-link" href="#Preprocessing-pipeline">¶</a></h3>
<p>First, we construct a preprocessing pipeline, in our case <code>pipeline</code> function which takes care of:</p>
<ul>
<li>out-of-vocabulary words</li>
<li>building a vocabulary (on the train set), and applying the same unaltered vocabulary on other sets (dev and test)</li>
<li>making sure that the length of input is the same for the train and dev/test sets (for fixed-sized models)</li>
</ul>
<p>You are free (and encouraged!) to do your own input processing 
function. Should you experiment with recurrent neural networks, you will
 find that you will need to do so.</p>
</div></div></div><div class="cell code_cell unselected rendered" tabindex="2"><div class="input"><div class="prompt input_prompt">In&nbsp;[4]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59985px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; min-width: 828px; margin-bottom: -8px; border-right-width: 22px; min-height: 1133px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-comment">####### New code #########</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">def</span> <span class="cm-def">loadGloveModel</span>(<span class="cm-variable">gloveFile</span>):</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">f</span> = <span class="cm-builtin">open</span>(<span class="cm-variable">gloveFile</span>,<span class="cm-string">'r'</span>)</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">model</span> = {}</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">for</span> <span class="cm-variable">line</span> <span class="cm-keyword">in</span> <span class="cm-variable">f</span>:</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">splitLine</span> = <span class="cm-variable">line</span>.<span class="cm-variable">split</span>()</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">word</span> = <span class="cm-variable">splitLine</span>[<span class="cm-number">0</span>]</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">embedding</span> = [<span class="cm-builtin">float</span>(<span class="cm-variable">val</span>) <span class="cm-keyword">for</span> <span class="cm-variable">val</span> <span class="cm-keyword">in</span> <span class="cm-variable">splitLine</span>[<span class="cm-number">1</span>:]]</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">model</span>[<span class="cm-variable">word</span>] = <span class="cm-variable">embedding</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">return</span> <span class="cm-variable">model</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">model</span> = <span class="cm-variable">loadGloveModel</span>(<span class="cm-string">"../gloveSubset.txt"</span>)</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># tokenisation</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">def</span> <span class="cm-def">tokenize</span>(<span class="cm-builtin">input</span>):</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">return</span> <span class="cm-builtin">input</span>.<span class="cm-variable">split</span>(<span class="cm-string">' '</span>)</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># save the model params to the hard drive</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">def</span> <span class="cm-def">save_model</span>(<span class="cm-variable">session</span>):</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">if</span> <span class="cm-keyword">not</span> <span class="cm-variable">os</span>.<span class="cm-variable">path</span>.<span class="cm-variable">exists</span>(<span class="cm-string">'./model/'</span>):</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">os</span>.<span class="cm-variable">mkdir</span>(<span class="cm-string">'./model/'</span>)</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">saver</span> = <span class="cm-variable">tf</span>.<span class="cm-variable">train</span>.<span class="cm-variable">Saver</span>()</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">saver</span>.<span class="cm-variable">save</span>(<span class="cm-variable">session</span>, <span class="cm-string">'./model/model.checkpoint'</span>)</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># preprocessing pipeline, used to load the data intro a structure required by the model</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">def</span> <span class="cm-def">pipeline</span>(<span class="cm-variable">data</span>, <span class="cm-variable">vocab</span>=<span class="cm-keyword">None</span>, <span class="cm-variable">max_sent_len_</span>=<span class="cm-keyword">None</span>):</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">is_ext_vocab</span> = <span class="cm-keyword">True</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">if</span> <span class="cm-variable">vocab</span> <span class="cm-keyword">is</span> <span class="cm-keyword">None</span>:</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">is_ext_vocab</span> = <span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">vocab</span> = {<span class="cm-string">'&lt;PAD&gt;'</span>: <span class="cm-number">0</span>, <span class="cm-string">'&lt;oov&gt;'</span>: <span class="cm-number">1</span>}</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">max_sent_len</span> = <span class="cm-operator">-</span><span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">data_sentences</span> = []</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">data_orders</span> = []</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">for</span> <span class="cm-variable">instance</span> <span class="cm-keyword">in</span> <span class="cm-variable">data</span>:</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">sents</span> = []</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-keyword">for</span> <span class="cm-variable">sentence</span> <span class="cm-keyword">in</span> <span class="cm-variable">instance</span>[<span class="cm-string">'story'</span>]:</span></pre><pre class=" CodeMirror-line "><span>            <span class="cm-variable">sent</span> = []</span></pre><pre class=" CodeMirror-line "><span>            <span class="cm-variable">tokenized</span> = <span class="cm-variable">tokenize</span>(<span class="cm-variable">sentence</span>)</span></pre><pre class=" CodeMirror-line "><span>            <span class="cm-keyword">for</span> <span class="cm-variable">token</span> <span class="cm-keyword">in</span> <span class="cm-variable">tokenized</span>:</span></pre><pre class=" CodeMirror-line "><span>                <span class="cm-variable">token</span> = <span class="cm-variable">token</span>.<span class="cm-variable">lower</span>()</span></pre><pre class=" CodeMirror-line "><span>                <span class="cm-keyword">if</span> <span class="cm-keyword">not</span> <span class="cm-variable">is_ext_vocab</span> <span class="cm-keyword">and</span> <span class="cm-variable">token</span> <span class="cm-keyword">not</span> <span class="cm-keyword">in</span> <span class="cm-variable">vocab</span>:</span></pre><pre class=" CodeMirror-line "><span>                    <span class="cm-variable">vocab</span>[<span class="cm-variable">token</span>] = <span class="cm-builtin">len</span>(<span class="cm-variable">vocab</span>)</span></pre><pre class=" CodeMirror-line "><span>                <span class="cm-keyword">if</span> <span class="cm-variable">token</span> <span class="cm-keyword">not</span> <span class="cm-keyword">in</span> <span class="cm-variable">vocab</span>:</span></pre><pre class=" CodeMirror-line "><span>                    <span class="cm-variable">token_id</span> = <span class="cm-variable">vocab</span>[<span class="cm-string">'&lt;oov&gt;'</span>]</span></pre><pre class=" CodeMirror-line "><span>                <span class="cm-keyword">else</span>:</span></pre><pre class=" CodeMirror-line "><span>                    <span class="cm-variable">token_id</span> = <span class="cm-variable">vocab</span>[<span class="cm-variable">token</span>]</span></pre><pre class=" CodeMirror-line "><span>                <span class="cm-variable">sent</span>.<span class="cm-variable">append</span>(<span class="cm-variable">token_id</span>)</span></pre><pre class=" CodeMirror-line "><span>            <span class="cm-keyword">if</span> <span class="cm-builtin">len</span>(<span class="cm-variable">sent</span>) <span class="cm-operator">&gt;</span> <span class="cm-variable">max_sent_len</span>:</span></pre><pre class=" CodeMirror-line "><span>                <span class="cm-variable">max_sent_len</span> = <span class="cm-builtin">len</span>(<span class="cm-variable">sent</span>)</span></pre><pre class=" CodeMirror-line "><span>            <span class="cm-variable">sents</span>.<span class="cm-variable">append</span>(<span class="cm-variable">sent</span>)</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">data_sentences</span>.<span class="cm-variable">append</span>(<span class="cm-variable">sents</span>)</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">data_orders</span>.<span class="cm-variable">append</span>(<span class="cm-variable">instance</span>[<span class="cm-string">'order'</span>])</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">if</span> <span class="cm-variable">max_sent_len_</span> <span class="cm-keyword">is</span> <span class="cm-keyword">not</span> <span class="cm-keyword">None</span>:</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">max_sent_len</span> = <span class="cm-variable">max_sent_len_</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">out_sentences</span> = <span class="cm-variable">np</span>.<span class="cm-variable">full</span>([<span class="cm-builtin">len</span>(<span class="cm-variable">data_sentences</span>), <span class="cm-number">5</span>, <span class="cm-variable">max_sent_len</span>], <span class="cm-variable">vocab</span>[<span class="cm-string">'&lt;PAD&gt;'</span>], <span class="cm-variable">dtype</span>=<span class="cm-variable">np</span>.<span class="cm-variable">int32</span>)</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">for</span> <span class="cm-variable">i</span>, <span class="cm-variable">elem</span> <span class="cm-keyword">in</span> <span class="cm-builtin">enumerate</span>(<span class="cm-variable">data_sentences</span>):</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-keyword">for</span> <span class="cm-variable">j</span>, <span class="cm-variable">sent</span> <span class="cm-keyword">in</span> <span class="cm-builtin">enumerate</span>(<span class="cm-variable">elem</span>):</span></pre><pre class=" CodeMirror-line "><span>            <span class="cm-variable">out_sentences</span>[<span class="cm-variable">i</span>, <span class="cm-variable">j</span>, <span class="cm-number">0</span>:<span class="cm-builtin">len</span>(<span class="cm-variable">sent</span>)] = <span class="cm-variable">sent</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">out_orders</span> = <span class="cm-variable">np</span>.<span class="cm-variable">array</span>(<span class="cm-variable">data_orders</span>, <span class="cm-variable">dtype</span>=<span class="cm-variable">np</span>.<span class="cm-variable">int32</span>)</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">return</span> <span class="cm-variable">out_sentences</span>, <span class="cm-variable">out_orders</span>, <span class="cm-variable">vocab</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 1133px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1155px;"></div></div></div></div></div></div><div class="widget-area connection-problems" style="display: none;"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div style="display: none;" class="out_prompt_overlay prompt" title="click to scroll output; double click to hide"></div><div class="output" style="display: none;"></div><div style="display: none;" class="btn btn-default output_collapsed" title="click to expand output">. . .</div></div></div><div class="cell code_cell unselected rendered" tabindex="2"><div class="input"><div class="prompt input_prompt">In&nbsp;[5]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59985px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; min-width: 869.667px; margin-bottom: -8px; border-right-width: 22px; min-height: 266px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-comment">#### New code ####</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># Add in oov. Look up the length of the vector for the word the and create one of similar length for OOV</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">model</span>[<span class="cm-string">'&lt;oov&gt;'</span>] =<span class="cm-builtin">list</span>(<span class="cm-variable">np</span>.<span class="cm-variable">random</span>.<span class="cm-variable">rand</span>(<span class="cm-builtin">len</span>(<span class="cm-variable">model</span>[<span class="cm-string">'the'</span>])))</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># convert train set to integer IDs. train_stories is then used as the 'story' variable seen later</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">train_stories</span>, <span class="cm-variable">train_orders</span>, <span class="cm-variable">vocab</span> = <span class="cm-variable">pipeline</span>(<span class="cm-variable">data_train</span>)</span></pre><pre class=" CodeMirror-line "><span>          </span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">gloveEmbedding</span>=<span class="cm-variable">np</span>.<span class="cm-variable">zeros</span>(<span class="cm-variable">shape</span>=(<span class="cm-builtin">len</span>(<span class="cm-variable">vocab</span>),<span class="cm-number">300</span>))</span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">for</span> <span class="cm-variable">word</span> <span class="cm-keyword">in</span> <span class="cm-variable">vocab</span>:</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-builtin">id</span> = <span class="cm-variable">vocab</span>[<span class="cm-variable">word</span>]</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">if</span> <span class="cm-variable">word</span> <span class="cm-keyword">in</span> <span class="cm-variable">model</span>:</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">gloveEmbedding</span>[<span class="cm-builtin">id</span>] = <span class="cm-variable">model</span>[<span class="cm-variable">word</span>]</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">else</span>:</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">gloveEmbedding</span>[<span class="cm-builtin">id</span>] = <span class="cm-variable">model</span>[<span class="cm-string">'&lt;oov&gt;'</span>]</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 266px;"></div><div class="CodeMirror-gutters" style="display: none; height: 288px;"></div></div></div></div></div></div><div class="widget-area connection-problems" style="display: none;"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div style="display: none;" class="out_prompt_overlay prompt" title="click to scroll output; double click to hide"></div><div class="output" style="display: none;"></div><div style="display: none;" class="btn btn-default output_collapsed" title="click to expand output">. . .</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59961px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 79px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 17.0003px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>You need to make sure that the <span class="cm-comment">`pipeline`</span> function returns the necessary data for your computational graph feed - the required inputs in this case, as we will call this function to process your dev and test data. If you do not make sure that the same pipeline applied to the train set is applied to other datasets, your model may not work with that data!</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 79px;"></div><div class="CodeMirror-gutters" style="display: none; height: 101px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><p>You need to make sure that the <code>pipeline</code>
 function returns the necessary data for your computational graph feed -
 the required inputs in this case, as we will call this function to 
process your dev and test data. If you do not make sure that the same 
pipeline applied to the train set is applied to other datasets, your 
model may not work with that data!</p>
</div></div></div><div class="cell code_cell unselected rendered" tabindex="2"><div class="input"><div class="prompt input_prompt">In&nbsp;[6]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59998px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; min-width: 736.333px; margin-bottom: -8px; border-right-width: 22px; min-height: 96px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-comment"># get the length of the longest sentence</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">max_sent_len</span> = <span class="cm-variable">train_stories</span>.<span class="cm-variable">shape</span>[<span class="cm-number">2</span>]</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># convert dev set to integer IDs, based on the train vocabulary and max_sent_len</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">dev_stories</span>, <span class="cm-variable">dev_orders</span>, <span class="cm-variable">_</span> = <span class="cm-variable">pipeline</span>(<span class="cm-variable">data_dev</span>, <span class="cm-variable">vocab</span>=<span class="cm-variable">vocab</span>, <span class="cm-variable">max_sent_len_</span>=<span class="cm-variable">max_sent_len</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 96px;"></div><div class="CodeMirror-gutters" style="display: none; height: 118px;"></div></div></div></div></div></div><div class="widget-area connection-problems" style="display: none;"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div style="display: none;" class="out_prompt_overlay prompt" title="click to scroll output; double click to hide"></div><div class="output" style="display: none;"></div><div style="display: none;" class="btn btn-default output_collapsed" title="click to expand output">. . .</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 45px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 16.9998px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>You can take a look at the result of the <span class="cm-comment">`pipeline`</span> with the <span class="cm-comment">`show_data_instance`</span> function to make sure that your data loaded correctly:</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 67px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><p>You can take a look at the result of the <code>pipeline</code> with the <code>show_data_instance</code> function to make sure that your data loaded correctly:</p>
</div></div></div><div class="cell code_cell unselected rendered" tabindex="2"><div class="input"><div class="prompt input_prompt">In&nbsp;[7]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; min-width: 486.333px; margin-bottom: -8px; border-right-width: 22px; min-height: 28px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-variable">nn</span>.<span class="cm-variable">show_data_instance</span>(<span class="cm-variable">dev_stories</span>, <span class="cm-variable">dev_orders</span>, <span class="cm-variable">vocab</span>, <span class="cm-number">155</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 28px;"></div><div class="CodeMirror-gutters" style="display: none; height: 50px;"></div></div></div></div></div></div><div class="widget-area connection-problems" style="display: none;"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div style="" class="out_prompt_overlay prompt" title="click to scroll output; double click to hide"></div><div class="output" style=""><div class="output_area"><div class="prompt"></div><div class="output_subarea output_text output_stream output_stdout"><pre>Input:
 Story:
  the manager decided to offer john the job.
  during the interview he was very &lt;oov&gt; and &lt;oov&gt;
  he went to the interview very prepared and nicely dressed.
  john was excited to have a job interview.
  the manager of the company was really impressed by john's comments.
 Order:
  [4 2 1 0 3]

Desired story:
  john was excited to have a job interview.
  he went to the interview very prepared and nicely dressed.
  during the interview he was very &lt;oov&gt; and &lt;oov&gt;
  the manager of the company was really impressed by john's comments.
  the manager decided to offer john the job.
</pre></div></div></div><div style="display: none;" class="btn btn-default output_collapsed" title="click to expand output">. . .</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.6001px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 131px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 18.25px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-3">### Model</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>The model we provide is a rudimentary, non-optimised model that essentially represents every word in a sentence with a fixed vector, sums these vectors up (per sentence) and puts a softmax at the end which aims to guess the order of sentences independently.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>First we define the model parameters:</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 131px;"></div><div class="CodeMirror-gutters" style="display: none; height: 153px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h3 id="Model">Model<a class="anchor-link" href="#Model">¶</a></h3>
<p>The model we provide is a rudimentary, non-optimised model that 
essentially represents every word in a sentence with a fixed vector, 
sums these vectors up (per sentence) and puts a softmax at the end which
 aims to guess the order of sentences independently.</p>
<p>First we define the model parameters:</p>
</div></div></div><div class="cell code_cell rendered unselected" tabindex="2"><div class="input"><div class="prompt input_prompt">In&nbsp;[8]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 73.6px; left: 80.6px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off">lstm_size</textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; min-width: 553px; margin-bottom: -8px; border-right-width: 22px; min-height: 147px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"><pre>x</pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"><div class="CodeMirror-selected" style="position: absolute; left: 0px; top: 68px; width: 75px; height: 17px;"></div></div><div class="CodeMirror-cursors" style="visibility: hidden;"></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-comment">### MODEL PARAMETERS ###</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">target_size</span> = <span class="cm-number">5</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">vocab_size</span> = <span class="cm-builtin">len</span>(<span class="cm-variable">vocab</span>)</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">input_size</span> = <span class="cm-number">300</span>   <span class="cm-comment"># Modified by Badrul</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">lstm_size</span> = <span class="cm-number">25</span>     <span class="cm-comment"># Added by Badrul</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">n_hidden</span> = <span class="cm-number">128</span>     <span class="cm-comment"># Added by Badrul, hidden layer num of features</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># n = len(train_stories)</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">output_size</span> = <span class="cm-number">5</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 147px;"></div><div class="CodeMirror-gutters" style="display: none; height: 169px;"></div></div></div></div></div></div><div class="widget-area connection-problems" style="display: none;"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div style="display: none;" class="out_prompt_overlay prompt" title="click to scroll output; double click to hide"></div><div class="output" style="display: none;"></div><div style="display: none;" class="btn btn-default output_collapsed" title="click to expand output">. . .</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59961px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 28px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>and then we define the model</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 28px;"></div><div class="CodeMirror-gutters" style="display: none; height: 50px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><p>and then we define the model</p>
</div></div></div><div class="cell code_cell rendered selected" tabindex="2"><div class="input"><div class="prompt input_prompt">In&nbsp;[9]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython CodeMirror-focused"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 753.6px; left: 322.267px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 8px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="display: block; right: 0px; left: 0px;"><div style="height: 100%; min-height: 1px; width: 1161.33px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true" style="height: 8px; width: 8px;"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; min-width: 1161.33px; margin-bottom: -8px; border-right-width: 22px; min-height: 1405px; padding-right: 0px; padding-bottom: 8px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style=""><div class="CodeMirror-cursor" style="left: 316.667px; top: 748px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-comment">### MODEL ###</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">## PLACEHOLDERS</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">story</span> = <span class="cm-variable">tf</span>.<span class="cm-variable">placeholder</span>(<span class="cm-variable">tf</span>.<span class="cm-variable">int64</span>, [<span class="cm-keyword">None</span>, <span class="cm-keyword">None</span>, <span class="cm-keyword">None</span>], <span class="cm-string">"story"</span>)        <span class="cm-comment"># [batch_size x 5 x max_length]</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">order</span> = <span class="cm-variable">tf</span>.<span class="cm-variable">placeholder</span>(<span class="cm-variable">tf</span>.<span class="cm-variable">int64</span>, [<span class="cm-keyword">None</span>, <span class="cm-keyword">None</span>], <span class="cm-string">"order"</span>)              <span class="cm-comment"># [batch_size x 5]</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">batch_size</span> = <span class="cm-variable">tf</span>.<span class="cm-variable">shape</span>(<span class="cm-variable">story</span>)[<span class="cm-number">0</span>]</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">sentences</span> = [<span class="cm-variable">tf</span>.<span class="cm-variable">reshape</span>(<span class="cm-variable">x</span>, [<span class="cm-variable">batch_size</span>, <span class="cm-operator">-</span><span class="cm-number">1</span>]) <span class="cm-keyword">for</span> <span class="cm-variable">x</span> <span class="cm-keyword">in</span> <span class="cm-variable">tf</span>.<span class="cm-variable">split</span>(<span class="cm-number">1</span>, <span class="cm-number">5</span>, <span class="cm-variable">story</span>)]  <span class="cm-comment"># 5 times [batch_size x max_length]</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># Word embeddings</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">initializer</span> = <span class="cm-variable">tf</span>.<span class="cm-variable">random_uniform_initializer</span>(<span class="cm-operator">-</span><span class="cm-number">0.1</span>, <span class="cm-number">0.1</span>)</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># New &amp; Modified code</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">embeddings</span> = <span class="cm-variable">tf</span>.<span class="cm-variable">get_variable</span>(<span class="cm-string">"W"</span>, [<span class="cm-variable">vocab_size</span>, <span class="cm-variable">input_size</span>], <span class="cm-variable">trainable</span>=<span class="cm-keyword">False</span>)   <span class="cm-comment"># Mod to original code</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">embeddings</span> = <span class="cm-variable">embeddings</span>.<span class="cm-variable">assign</span>(<span class="cm-variable">np</span>.<span class="cm-variable">array</span>(<span class="cm-variable">gloveEmbedding</span>))                       <span class="cm-comment"># New code</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># End of new code</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">sentences_embedded</span> = [<span class="cm-variable">tf</span>.<span class="cm-variable">nn</span>.<span class="cm-variable">embedding_lookup</span>(<span class="cm-variable">embeddings</span>, <span class="cm-variable">sentence</span>)   <span class="cm-comment"># [batch_size x max_seq_length x input_size]</span></span></pre><pre class=" CodeMirror-line "><span>                      <span class="cm-keyword">for</span> <span class="cm-variable">sentence</span> <span class="cm-keyword">in</span> <span class="cm-variable">sentences</span>]</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># ***Newcode: Badrul LSTM ***</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># Sources: https://github.com/aymericdamien/TensorFlow-Examples/blob/master/notebooks/3_NeuralNetworks/recurrent_network.ipynb</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">#          Previously looked at these:</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">#          https://github.com/tensorflow/models/blob/master/tutorials/rnn/ptb/ptb_word_lm.py</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">#          https://www.tensorflow.org/tutorials/recurrent/ </span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">#          http://monik.in/a-noobs-guide-to-implementing-rnn-lstm-using-tensorflow/  </span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">#          https://www.tensorflow.org/versions/r0.11/api_docs/python/rnn_cell/rnn_cells_for_use_with_tensorflow_s_core_rnn_methods#LSTMCell</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># Define weights</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">weights</span> = {</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-string">'out'</span>: <span class="cm-variable">tf</span>.<span class="cm-variable">Variable</span>(<span class="cm-variable">tf</span>.<span class="cm-variable">random_normal</span>([<span class="cm-variable">lstm_size</span>, <span class="cm-variable">output_size</span>]))</span></pre><pre class=" CodeMirror-line "><span>}</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">biases</span> = {</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-string">'out'</span>: <span class="cm-variable">tf</span>.<span class="cm-variable">Variable</span>(<span class="cm-variable">tf</span>.<span class="cm-variable">random_normal</span>([<span class="cm-variable">output_size</span>]))</span></pre><pre class=" CodeMirror-line "><span>}</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">def</span> <span class="cm-def">RNN</span>(<span class="cm-variable">x</span>, <span class="cm-variable">weights</span>, <span class="cm-variable">biases</span>):</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment"># Prepare data shape to match `rnn` function requirements</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment"># Current data input shape: (batch_size, n_steps, n_input)</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment"># Required shape: 'n_steps' tensors list of shape (batch_size, n_input)</span></span></pre><pre class=" CodeMirror-line "><span>    </span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment"># Permuting batch_size and n_steps</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">x</span> = <span class="cm-variable">tf</span>.<span class="cm-variable">transpose</span>(<span class="cm-variable">x</span>, [<span class="cm-number">1</span>, <span class="cm-number">0</span>, <span class="cm-number">2</span>])</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment"># Reshaping to (n_steps*batch_size, n_input)</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">x</span> = <span class="cm-variable">tf</span>.<span class="cm-variable">reshape</span>(<span class="cm-variable">x</span>, [<span class="cm-operator">-</span><span class="cm-number">1</span>, <span class="cm-variable">input_size</span>])</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment"># Split to get a list of 'n_steps' tensors of shape (batch_size, n_input)</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">x</span> = <span class="cm-variable">tf</span>.<span class="cm-variable">split</span>(<span class="cm-number">0</span>, <span class="cm-variable">output_size</span>, <span class="cm-variable">x</span>)</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment"># Define a lstm cell with tensorflow</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">lstm_cell</span> = <span class="cm-variable">rnn_cell</span>.<span class="cm-variable">BasicLSTMCell</span>(<span class="cm-variable">lstm_size</span>, <span class="cm-variable">forget_bias</span>=<span class="cm-number">1.0</span>)</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment"># Get lstm cell output</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">outputs</span>, <span class="cm-variable">states</span> = <span class="cm-variable">rnn</span>.<span class="cm-variable">rnn</span>(<span class="cm-variable">lstm_cell</span>, <span class="cm-variable">x</span>, <span class="cm-variable">dtype</span>=<span class="cm-variable">tf</span>.<span class="cm-variable">float32</span>)</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment"># Linear activation, using rnn inner loop last output</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">return</span> <span class="cm-variable">tf</span>.<span class="cm-variable">matmul</span>(<span class="cm-variable">outputs</span>[<span class="cm-operator">-</span><span class="cm-number">1</span>], <span class="cm-variable">weights</span>[<span class="cm-string">'out'</span>]) <span class="cm-operator">+</span> <span class="cm-variable">biases</span>[<span class="cm-string">'out'</span>]</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># Note: Haven't figured out whether x is one sentence at a time (as here) or the entire input</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">for</span> <span class="cm-variable">sentence</span> <span class="cm-keyword">in</span> <span class="cm-variable">sentences_embedded</span>:</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">pred</span> = <span class="cm-variable">RNN</span>(<span class="cm-variable">sentence</span>, <span class="cm-variable">weights</span>, <span class="cm-variable">biases</span>)</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">probabilities</span>.<span class="cm-variable">append</span>(<span class="cm-variable">tf</span>.<span class="cm-variable">nn</span>.<span class="cm-variable">softmax</span>(<span class="cm-variable">logits</span>))</span></pre><pre class=" CodeMirror-line "><span>    </span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment"># Define loss and optimizer</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">loss</span> += <span class="cm-variable">tf</span>.<span class="cm-variable">reduce_mean</span>(<span class="cm-variable">tf</span>.<span class="cm-variable">nn</span>.<span class="cm-variable">softmax_cross_entropy_with_logits</span>(<span class="cm-variable">pred</span>, <span class="cm-variable">order</span>))</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment"># Evaluate model</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">predict</span> = <span class="cm-variable">tf</span>.<span class="cm-variable">equal</span>(<span class="cm-variable">tf</span>.<span class="cm-variable">argmax</span>(<span class="cm-variable">pred</span>,<span class="cm-number">1</span>), <span class="cm-variable">tf</span>.<span class="cm-variable">argmax</span>(<span class="cm-variable">y</span>,<span class="cm-number">1</span>))</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">accuracy</span> = <span class="cm-variable">tf</span>.<span class="cm-variable">reduce_mean</span>(<span class="cm-variable">tf</span>.<span class="cm-variable">cast</span>(<span class="cm-variable">correct_pred</span>, <span class="cm-variable">tf</span>.<span class="cm-variable">float32</span>))</span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">###### End of new code  #######</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># loss </span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">#loss = tf.reduce_sum(tf.nn.sparse_softmax_cross_entropy_with_logits(logits, order))</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># prediction function</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">#unpacked_logits = [tensor for tensor in tf.unpack(logits, axis=1)]</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">#softmaxes = [tf.nn.softmax(tensor) for tensor in unpacked_logits]</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">#softmaxed_logits = tf.pack(softmaxes, axis=1)</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment">#predict = tf.arg_max(softmaxed_logits, 2)</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 1413px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1435px;"></div></div></div></div></div></div><div class="widget-area connection-problems" style="display: none;"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div style="" class="out_prompt_overlay prompt" title="click to scroll output; double click to hide"></div><div class="output" style=""><div class="output_area"><div class="prompt"></div><div class="output_subarea output_text output_error"><pre><span class="ansired">---------------------------------------------------------------------------</span>
<span class="ansired">ValueError</span>                                Traceback (most recent call last)
<span class="ansigreen">&lt;ipython-input-9-57a31605cbe2&gt;</span> in <span class="ansicyan">&lt;module&gt;<span class="ansiblue">()</span>
<span class="ansigreen">     61</span> <span class="ansired"># Note: Haven't figured out whether x is one sentence at a time (as here) or the entire input</span><span class="ansiblue"></span><span class="ansiblue"></span>
<span class="ansigreen">     62</span> <span class="ansigreen">for</span> sentence <span class="ansigreen">in</span> sentences_embedded<span class="ansiblue">:</span><span class="ansiblue"></span>
<span class="ansigreen">---&gt; 63<span class="ansired">     </span>pred <span class="ansiblue">=</span> RNN<span class="ansiblue">(</span>sentence<span class="ansiblue">,</span> weights<span class="ansiblue">,</span> biases<span class="ansiblue">)</span><span class="ansiblue"></span>
<span class="ansigreen">     64</span>     probabilities<span class="ansiblue">.</span>append<span class="ansiblue">(</span>tf<span class="ansiblue">.</span>nn<span class="ansiblue">.</span>softmax<span class="ansiblue">(</span>logits<span class="ansiblue">)</span><span class="ansiblue">)</span><span class="ansiblue"></span>
<span class="ansigreen">     65</span> <span class="ansiblue"></span>

<span class="ansigreen">&lt;ipython-input-9-57a31605cbe2&gt;</span> in <span class="ansicyan">RNN<span class="ansiblue">(x, weights, biases)</span>
<span class="ansigreen">     57</span> <span class="ansiblue"></span>
<span class="ansigreen">     58</span>     <span class="ansired"># Linear activation, using rnn inner loop last output</span><span class="ansiblue"></span><span class="ansiblue"></span>
<span class="ansigreen">---&gt; 59<span class="ansired">     <span class="ansigreen">return</span> tf<span class="ansiblue">.</span>matmul<span class="ansiblue">(</span>outputs<span class="ansiblue">[</span><span class="ansiblue">-</span><span class="ansicyan">1</span><span class="ansiblue">]</span><span class="ansiblue">,</span> weights<span class="ansiblue">[</span><span class="ansiblue">'out'</span><span class="ansiblue">]</span><span class="ansiblue">)</span> <span class="ansiblue">+</span> biases<span class="ansiblue">[</span><span class="ansiblue">'out'</span><span class="ansiblue">]</span><span class="ansiblue"></span>
<span class="ansigreen">     60</span> <span class="ansiblue"></span>
<span class="ansigreen">     61</span> <span class="ansired"># Note: Haven't figured out whether x is one sentence at a time (as here) or the entire input</span><span class="ansiblue"></span><span class="ansiblue"></span>

<span class="ansigreen">/opt/conda/lib/python3.5/site-packages/tensorflow/python/ops/math_ops.py</span> in <span class="ansicyan">matmul<span class="ansiblue">(a, b, transpose_a, transpose_b, a_is_sparse, b_is_sparse, name)</span>
<span class="ansigreen">   1344</span>                                    transpose_a<span class="ansiblue">=</span>transpose_a<span class="ansiblue">,</span><span class="ansiblue"></span>
<span class="ansigreen">   1345</span>                                    transpose_b<span class="ansiblue">=</span>transpose_b<span class="ansiblue">,</span><span class="ansiblue"></span>
<span class="ansigreen">-&gt; 1346<span class="ansired">                                    name=name)
</span><span class="ansigreen">   1347</span> <span class="ansiblue"></span>
<span class="ansigreen">   1348</span> sparse_matmul <span class="ansiblue">=</span> gen_math_ops<span class="ansiblue">.</span>_sparse_mat_mul<span class="ansiblue"></span>

<span class="ansigreen">/opt/conda/lib/python3.5/site-packages/tensorflow/python/ops/gen_math_ops.py</span> in <span class="ansicyan">_mat_mul<span class="ansiblue">(a, b, transpose_a, transpose_b, name)</span>
<span class="ansigreen">   1269</span>   """
<span class="ansigreen">   1270</span>   result = _op_def_lib.apply_op("MatMul", a=a, b=b, transpose_a=transpose_a,
<span class="ansigreen">-&gt; 1271<span class="ansired">                                 transpose_b=transpose_b, name=name)
</span><span class="ansigreen">   1272</span>   <span class="ansigreen">return</span> result<span class="ansiblue"></span>
<span class="ansigreen">   1273</span> <span class="ansiblue"></span>

<span class="ansigreen">/opt/conda/lib/python3.5/site-packages/tensorflow/python/framework/op_def_library.py</span> in <span class="ansicyan">apply_op<span class="ansiblue">(self, op_type_name, name, **keywords)</span>
<span class="ansigreen">    701</span>           op = g.create_op(op_type_name, inputs, output_types, name=scope,
<span class="ansigreen">    702</span>                            input_types<span class="ansiblue">=</span>input_types<span class="ansiblue">,</span> attrs<span class="ansiblue">=</span>attr_protos<span class="ansiblue">,</span><span class="ansiblue"></span>
<span class="ansigreen">--&gt; 703<span class="ansired">                            op_def=op_def)
</span><span class="ansigreen">    704</span>           outputs <span class="ansiblue">=</span> op<span class="ansiblue">.</span>outputs<span class="ansiblue"></span>
<span class="ansigreen">    705</span>           return _Restructure(ops.convert_n_to_tensor(outputs),

<span class="ansigreen">/opt/conda/lib/python3.5/site-packages/tensorflow/python/framework/ops.py</span> in <span class="ansicyan">create_op<span class="ansiblue">(self, op_type, inputs, dtypes, input_types, name, attrs, op_def, compute_shapes, compute_device)</span>
<span class="ansigreen">   2310</span>                     original_op=self._default_original_op, op_def=op_def)
<span class="ansigreen">   2311</span>     <span class="ansigreen">if</span> compute_shapes<span class="ansiblue">:</span><span class="ansiblue"></span>
<span class="ansigreen">-&gt; 2312<span class="ansired">       </span>set_shapes_for_outputs<span class="ansiblue">(</span>ret<span class="ansiblue">)</span><span class="ansiblue"></span>
<span class="ansigreen">   2313</span>     self<span class="ansiblue">.</span>_add_op<span class="ansiblue">(</span>ret<span class="ansiblue">)</span><span class="ansiblue"></span>
<span class="ansigreen">   2314</span>     self<span class="ansiblue">.</span>_record_op_seen_by_control_dependencies<span class="ansiblue">(</span>ret<span class="ansiblue">)</span><span class="ansiblue"></span>

<span class="ansigreen">/opt/conda/lib/python3.5/site-packages/tensorflow/python/framework/ops.py</span> in <span class="ansicyan">set_shapes_for_outputs<span class="ansiblue">(op)</span>
<span class="ansigreen">   1702</span>       raise RuntimeError("No shape function registered for standard op: %s"
<span class="ansigreen">   1703</span>                          % op.type)
<span class="ansigreen">-&gt; 1704<span class="ansired">   </span>shapes <span class="ansiblue">=</span> shape_func<span class="ansiblue">(</span>op<span class="ansiblue">)</span><span class="ansiblue"></span>
<span class="ansigreen">   1705</span>   <span class="ansigreen">if</span> shapes <span class="ansigreen">is</span> <span class="ansigreen">None</span><span class="ansiblue">:</span><span class="ansiblue"></span>
<span class="ansigreen">   1706</span>     raise RuntimeError(

<span class="ansigreen">/opt/conda/lib/python3.5/site-packages/tensorflow/python/framework/common_shapes.py</span> in <span class="ansicyan">matmul_shape<span class="ansiblue">(op)</span>
<span class="ansigreen">     92</span>   inner_a <span class="ansiblue">=</span> a_shape<span class="ansiblue">[</span><span class="ansicyan">0</span><span class="ansiblue">]</span> <span class="ansigreen">if</span> transpose_a <span class="ansigreen">else</span> a_shape<span class="ansiblue">[</span><span class="ansicyan">1</span><span class="ansiblue">]</span><span class="ansiblue"></span>
<span class="ansigreen">     93</span>   inner_b <span class="ansiblue">=</span> b_shape<span class="ansiblue">[</span><span class="ansicyan">1</span><span class="ansiblue">]</span> <span class="ansigreen">if</span> transpose_b <span class="ansigreen">else</span> b_shape<span class="ansiblue">[</span><span class="ansicyan">0</span><span class="ansiblue">]</span><span class="ansiblue"></span>
<span class="ansigreen">---&gt; 94<span class="ansired">   </span>inner_a<span class="ansiblue">.</span>assert_is_compatible_with<span class="ansiblue">(</span>inner_b<span class="ansiblue">)</span><span class="ansiblue"></span>
<span class="ansigreen">     95</span>   <span class="ansigreen">return</span> <span class="ansiblue">[</span>tensor_shape<span class="ansiblue">.</span>TensorShape<span class="ansiblue">(</span><span class="ansiblue">[</span>output_rows<span class="ansiblue">,</span> output_cols<span class="ansiblue">]</span><span class="ansiblue">)</span><span class="ansiblue">]</span><span class="ansiblue"></span>
<span class="ansigreen">     96</span> <span class="ansiblue"></span>

<span class="ansigreen">/opt/conda/lib/python3.5/site-packages/tensorflow/python/framework/tensor_shape.py</span> in <span class="ansicyan">assert_is_compatible_with<span class="ansiblue">(self, other)</span>
<span class="ansigreen">    106</span>     <span class="ansigreen">if</span> <span class="ansigreen">not</span> self<span class="ansiblue">.</span>is_compatible_with<span class="ansiblue">(</span>other<span class="ansiblue">)</span><span class="ansiblue">:</span><span class="ansiblue"></span>
<span class="ansigreen">    107</span>       raise ValueError("Dimensions %s and %s are not compatible"
<span class="ansigreen">--&gt; 108<span class="ansired">                        % (self, other))
</span><span class="ansigreen">    109</span> <span class="ansiblue"></span>
<span class="ansigreen">    110</span>   <span class="ansigreen">def</span> merge_with<span class="ansiblue">(</span>self<span class="ansiblue">,</span> other<span class="ansiblue">)</span><span class="ansiblue">:</span><span class="ansiblue"></span>

<span class="ansired">ValueError</span>: Dimensions 25 and 128 are not compatible

</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre></div></div></div><div style="display: none;" class="btn btn-default output_collapsed" title="click to expand output">. . .</div></div></div><div class="cell text_cell rendered unselected" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.60059px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 45px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 16.9994px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>We built our model, together with the loss and the prediction function, all we are left with now is to build an optimiser on the loss:</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 45px;"></div><div class="CodeMirror-gutters" style="display: none; height: 67px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><p>We
 built our model, together with the loss and the prediction function, 
all we are left with now is to build an optimiser on the loss:</p>
</div></div></div><div class="cell code_cell unselected rendered" tabindex="2"><div class="input"><div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59961px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; min-width: 553px; margin-bottom: -8px; border-right-width: 22px; min-height: 28px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-variable">opt_op</span> = <span class="cm-variable">tf</span>.<span class="cm-variable">train</span>.<span class="cm-variable">AdamOptimizer</span>(<span class="cm-number">0.001</span>, <span class="cm-variable">epsilon</span>=<span class="cm-number">0.1</span>).<span class="cm-variable">minimize</span>(<span class="cm-variable">loss</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 28px;"></div><div class="CodeMirror-gutters" style="display: none; height: 50px;"></div></div></div></div></div></div><div class="widget-area connection-problems" style="display: none;"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div style="display: none;" class="out_prompt_overlay prompt" title="click to scroll output; double click to hide"></div><div class="output" style="display: none;"></div><div style="display: none;" class="btn btn-default output_collapsed" title="click to expand output">. . .</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.60059px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 63px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 18.25px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-3">### Model training </span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>We defined the preprocessing pipeline, set the model up, so we can finally train the model</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 63px;"></div><div class="CodeMirror-gutters" style="display: none; height: 85px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h3 id="Model-training">Model training<a class="anchor-link" href="#Model-training">¶</a></h3>
<p>We defined the preprocessing pipeline, set the model up, so we can finally train the model</p>
</div></div></div><div class="cell code_cell unselected rendered" tabindex="2"><div class="input"><div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.60004px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; min-width: 644.667px; margin-bottom: -8px; border-right-width: 22px; min-height: 589px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-variable">BATCH_SIZE</span> = <span class="cm-number">25</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">with</span> <span class="cm-variable">tf</span>.<span class="cm-variable">Session</span>() <span class="cm-keyword">as</span> <span class="cm-variable">sess</span>:</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">sess</span>.<span class="cm-variable">run</span>(<span class="cm-variable">tf</span>.<span class="cm-variable">initialize_all_variables</span>())</span></pre><pre class=" CodeMirror-line "><span> <span class="cm-comment cm-error">#   sess.run(embeddings.assign(gloveEmbedding))</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">n</span> = <span class="cm-variable">train_stories</span>.<span class="cm-variable">shape</span>[<span class="cm-number">0</span>]</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-keyword">for</span> <span class="cm-variable">epoch</span> <span class="cm-keyword">in</span> <span class="cm-builtin">range</span>(<span class="cm-number">5</span>):</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-builtin">print</span>(<span class="cm-string">'----- Epoch'</span>, <span class="cm-variable">epoch</span>, <span class="cm-string">'-----'</span>)</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">total_loss</span> = <span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-keyword">for</span> <span class="cm-variable">i</span> <span class="cm-keyword">in</span> <span class="cm-builtin">range</span>(<span class="cm-variable">n</span> <span class="cm-operator">//</span> <span class="cm-variable">BATCH_SIZE</span>):</span></pre><pre class=" CodeMirror-line "><span>            <span class="cm-variable">inst_story</span> = <span class="cm-variable">train_stories</span>[<span class="cm-variable">i</span> <span class="cm-operator">*</span> <span class="cm-variable">BATCH_SIZE</span>: (<span class="cm-variable">i</span> <span class="cm-operator">+</span> <span class="cm-number">1</span>) <span class="cm-operator">*</span> <span class="cm-variable">BATCH_SIZE</span>]</span></pre><pre class=" CodeMirror-line "><span>            <span class="cm-variable">inst_order</span> = <span class="cm-variable">train_orders</span>[<span class="cm-variable">i</span> <span class="cm-operator">*</span> <span class="cm-variable">BATCH_SIZE</span>: (<span class="cm-variable">i</span> <span class="cm-operator">+</span> <span class="cm-number">1</span>) <span class="cm-operator">*</span> <span class="cm-variable">BATCH_SIZE</span>]</span></pre><pre class=" CodeMirror-line "><span>            <span class="cm-variable">feed_dict</span> = {<span class="cm-variable">story</span>: <span class="cm-variable">inst_story</span>, <span class="cm-variable">order</span>: <span class="cm-variable">inst_order</span>}</span></pre><pre class=" CodeMirror-line "><span>            <span class="cm-variable">_</span>, <span class="cm-variable">current_loss</span> = <span class="cm-variable">sess</span>.<span class="cm-variable">run</span>([<span class="cm-variable">opt_op</span>, <span class="cm-variable">loss</span>], <span class="cm-variable">feed_dict</span>=<span class="cm-variable">feed_dict</span>)</span></pre><pre class=" CodeMirror-line "><span>            <span class="cm-variable">total_loss</span> += <span class="cm-variable">current_loss</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-builtin">print</span>(<span class="cm-string">' Train loss:'</span>, <span class="cm-variable">total_loss</span> <span class="cm-operator">/</span> <span class="cm-variable">n</span>)</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">train_feed_dict</span> = {<span class="cm-variable">story</span>: <span class="cm-variable">train_stories</span>, <span class="cm-variable">order</span>: <span class="cm-variable">train_orders</span>}</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">train_predicted</span> = <span class="cm-variable">sess</span>.<span class="cm-variable">run</span>(<span class="cm-variable">predict</span>, <span class="cm-variable">feed_dict</span>=<span class="cm-variable">train_feed_dict</span>)</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">train_accuracy</span> = <span class="cm-variable">nn</span>.<span class="cm-variable">calculate_accuracy</span>(<span class="cm-variable">train_orders</span>, <span class="cm-variable">train_predicted</span>)</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-builtin">print</span>(<span class="cm-string">' Train accuracy:'</span>, <span class="cm-variable">train_accuracy</span>)</span></pre><pre class=" CodeMirror-line "><span>        </span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">dev_feed_dict</span> = {<span class="cm-variable">story</span>: <span class="cm-variable">dev_stories</span>, <span class="cm-variable">order</span>: <span class="cm-variable">dev_orders</span>}</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">dev_predicted</span> = <span class="cm-variable">sess</span>.<span class="cm-variable">run</span>(<span class="cm-variable">predict</span>, <span class="cm-variable">feed_dict</span>=<span class="cm-variable">dev_feed_dict</span>)</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-variable">dev_accuracy</span> = <span class="cm-variable">nn</span>.<span class="cm-variable">calculate_accuracy</span>(<span class="cm-variable">dev_orders</span>, <span class="cm-variable">dev_predicted</span>)</span></pre><pre class=" CodeMirror-line "><span>        <span class="cm-builtin">print</span>(<span class="cm-string">' Dev accuracy:'</span>, <span class="cm-variable">dev_accuracy</span>)</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>        </span></pre><pre class=" CodeMirror-line "><span>    </span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">nn</span>.<span class="cm-variable">save_model</span>(<span class="cm-variable">sess</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 589px;"></div><div class="CodeMirror-gutters" style="display: none; height: 611px;"></div></div></div></div></div></div><div class="widget-area connection-problems" style="display: none;"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div style="" class="out_prompt_overlay prompt" title="click to scroll output; double click to hide"></div><div class="output" style=""></div><div style="display: none;" class="btn btn-default output_collapsed" title="click to expand output">. . .</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.60059px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 251px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 19.0833px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## </span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">font</span> <span class="cm-attribute">color</span>=<span class="cm-string">'red'</span><span class="cm-tag cm-bracket">&gt;</span>Assessment 1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">font</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-header cm-header-2">: Assess Accuracy (50 pts) </span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>We assess how well your model performs on an unseen test set. We will look at the accuracy of the predicted sentence order, on sentence level, and will score them as followis:</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* 0 - 20 pts: 45% &lt;= accuracy &lt; 50%, linear</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* 20 - 40 pts: 50% &lt;= accuracy &lt; 55</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* 40 - 70 pts 55 &lt;= accuracy &lt; Best Result, linear</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>The <span class="cm-strong">**linear**</span> mapping maps any accuracy value between the lower and upper bound linearly to a score. For example, if your model's accuracy score is <span class="cm-delimit cm-delimit-open">$</span>acc=54.5<span class="cm-tag">\%</span><span class="cm-delimit cm-delimit-close">$</span>, then your score is <span class="cm-delimit cm-delimit-open">$</span><span class="cm-atom">20</span> + 20<span class="cm-tag">\frac</span><span class="cm-bracket">{</span>acc-50<span class="cm-bracket">}{</span><span class="cm-atom">55</span>-50<span class="cm-bracket">}</span><span class="cm-delimit cm-delimit-close">$</span>.</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>The <span class="cm-em">*Best-Result*</span> accuracy is the maximum of the best accuracy the course organiser achieved, and the submitted accuracies scores.<span class="cm-trailing-space-a"> </span><span class="cm-trailing-space-new-line"> </span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 251px;"></div><div class="CodeMirror-gutters" style="display: none; height: 273px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Assessment-1:-Assess-Accuracy-(50-pts)"><font color="red">Assessment 1</font>: Assess Accuracy (50 pts)<a class="anchor-link" href="#Assessment-1:-Assess-Accuracy-%2850-pts%29">¶</a></h2>
<p>We assess how well your model performs on an unseen test set. We will
 look at the accuracy of the predicted sentence order, on sentence 
level, and will score them as followis:</p>
<ul>
<li>0 - 20 pts: 45% &lt;= accuracy &lt; 50%, linear</li>
<li>20 - 40 pts: 50% &lt;= accuracy &lt; 55</li>
<li>40 - 70 pts 55 &lt;= accuracy &lt; Best Result, linear</li>
</ul>
<p>The <strong>linear</strong> mapping maps any accuracy value between 
the lower and upper bound linearly to a score. For example, if your 
model's accuracy score is <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;54.5&lt;/mn&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x0025;&lt;/mi&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-3" role="math" style="width: 6.304em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.069em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.713em, 1005.01em, 2.784em, -1000em); top: -2.592em; left: 0em;"><span class="mrow" id="MathJax-Span-4"><span class="mi" id="MathJax-Span-5" style="font-family: STIXMathJax_Main; font-style: italic;">a</span><span class="mi" id="MathJax-Span-6" style="font-family: STIXMathJax_Main; font-style: italic;">c</span><span class="mi" id="MathJax-Span-7" style="font-family: STIXMathJax_Main; font-style: italic;">c</span><span class="mo" id="MathJax-Span-8" style="font-family: STIXMathJax_Main; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-9" style="font-family: STIXMathJax_Main; padding-left: 0.313em;">54.5</span><span class="mi" id="MathJax-Span-10" style="font-family: STIXMathJax_Main;">%</span></span><span style="display: inline-block; width: 0px; height: 2.592em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.095em; border-left: 0px solid; width: 0px; height: 1.042em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mi>c</mi><mi>c</mi><mo>=</mo><mn>54.5</mn><mi mathvariant="normal">%</mi></math></span></span><script type="math/tex" id="MathJax-Element-2">acc=54.5\%</script>, then your score is <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" style="position: relative;" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;20&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;20&lt;/mn&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;50&lt;/mn&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mn&gt;55&lt;/mn&gt;&lt;mo&gt;&amp;#x2212;&lt;/mo&gt;&lt;mn&gt;50&lt;/mn&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/math&gt;" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-11" role="math" style="width: 7.018em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.645em; height: 0px; font-size: 124%;"><span style="position: absolute; clip: rect(1.505em, 1005.65em, 3.179em, -1000em); top: -2.592em; left: 0em;"><span class="mrow" id="MathJax-Span-12"><span class="mn" id="MathJax-Span-13" style="font-family: STIXMathJax_Main;">20</span><span class="mo" id="MathJax-Span-14" style="font-family: STIXMathJax_Main; padding-left: 0.25em;">+</span><span class="mn" id="MathJax-Span-15" style="font-family: STIXMathJax_Main; padding-left: 0.25em;">20</span><span class="mfrac" id="MathJax-Span-16"><span style="display: inline-block; position: relative; width: 2.294em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(3.315em, 1002.16em, 4.157em, -1000em); top: -4.403em; left: 50%; margin-left: -1.087em;"><span class="mrow" id="MathJax-Span-17"><span class="mi" id="MathJax-Span-18" style="font-size: 70.7%; font-family: STIXMathJax_Main; font-style: italic;">a</span><span class="mi" id="MathJax-Span-19" style="font-size: 70.7%; font-family: STIXMathJax_Main; font-style: italic;">c</span><span class="mi" id="MathJax-Span-20" style="font-size: 70.7%; font-family: STIXMathJax_Main; font-style: italic;">c</span><span class="mo" id="MathJax-Span-21" style="font-size: 70.7%; font-family: STIXMathJax_Main;">−</span><span class="mn" id="MathJax-Span-22" style="font-size: 70.7%; font-family: STIXMathJax_Main;">50</span></span><span style="display: inline-block; width: 0px; height: 3.975em;"></span></span><span style="position: absolute; clip: rect(3.315em, 1001.88em, 4.157em, -1000em); top: -3.57em; left: 50%; margin-left: -0.949em;"><span class="mrow" id="MathJax-Span-23"><span class="mn" id="MathJax-Span-24" style="font-size: 70.7%; font-family: STIXMathJax_Main;">55</span><span class="mo" id="MathJax-Span-25" style="font-size: 70.7%; font-family: STIXMathJax_Main;">−</span><span class="mn" id="MathJax-Span-26" style="font-size: 70.7%; font-family: STIXMathJax_Main;">50</span></span><span style="display: inline-block; width: 0px; height: 3.975em;"></span></span><span style="position: absolute; clip: rect(0.85em, 1002.29em, 1.267em, -1000em); top: -1.314em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 2.294em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.094em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.592em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.585em; border-left: 0px solid; width: 0px; height: 1.791em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>20</mn><mo>+</mo><mn>20</mn><mfrac><mrow><mi>a</mi><mi>c</mi><mi>c</mi><mo>−</mo><mn>50</mn></mrow><mrow><mn>55</mn><mo>−</mo><mn>50</mn></mrow></mfrac></math></span></span><script type="math/tex" id="MathJax-Element-3">20 + 20\frac{acc-50}{55-50}</script>.</p>
<p>The <em>Best-Result</em> accuracy is the maximum of the best accuracy the course organiser achieved, and the submitted accuracies scores.  </p>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59961px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 62px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 17.0003px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>Change the following lines so that they construct the test set in the same way you constructed the dev set in the code above. We will insert the test set instead of the dev set here. <span class="cm-strong">**</span><span class="cm-strong cm-comment">`test_feed_dict`</span><span class="cm-strong"> variable must stay named the same**</span>.</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 62px;"></div><div class="CodeMirror-gutters" style="display: none; height: 84px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><p>Change
 the following lines so that they construct the test set in the same way
 you constructed the dev set in the code above. We will insert the test 
set instead of the dev set here. <strong><code>test_feed_dict</code> variable must stay named the same</strong>.</p>
</div></div></div><div class="cell code_cell unselected rendered" tabindex="2"><div class="input"><div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59998px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; min-width: 761.333px; margin-bottom: -8px; border-right-width: 22px; min-height: 130px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-comment"># LOAD THE DATA</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">data_test</span> = <span class="cm-variable">nn</span>.<span class="cm-variable">load_corpus</span>(<span class="cm-variable">data_path</span> <span class="cm-operator">+</span> <span class="cm-string">"dev.tsv"</span>)</span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># make sure you process this with the same pipeline as you processed your dev set</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">test_stories</span>, <span class="cm-variable">test_orders</span>, <span class="cm-variable">_</span> = <span class="cm-variable">pipeline</span>(<span class="cm-variable">data_test</span>, <span class="cm-variable">vocab</span>=<span class="cm-variable">vocab</span>, <span class="cm-variable">max_sent_len_</span>=<span class="cm-variable">max_sent_len</span>)</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-comment"># THIS VARIABLE MUST BE NAMED `test_feed_dict`</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">test_feed_dict</span> = {<span class="cm-variable">story</span>: <span class="cm-variable">test_stories</span>, <span class="cm-variable">order</span>: <span class="cm-variable">test_orders</span>}</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 130px;"></div><div class="CodeMirror-gutters" style="display: none; height: 152px;"></div></div></div></div></div></div><div class="widget-area connection-problems" style="display: none;"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div style="" class="out_prompt_overlay prompt" title="click to scroll output; double click to hide"></div><div class="output" style=""></div><div style="display: none;" class="btn btn-default output_collapsed" title="click to expand output">. . .</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59961px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 28px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span>The following code loads your model, computes accuracy, and exports the result. <span class="cm-strong">**DO NOT**</span> change this code.</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 28px;"></div><div class="CodeMirror-gutters" style="display: none; height: 50px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><p>The following code loads your model, computes accuracy, and exports the result. <strong>DO NOT</strong> change this code.</p>
</div></div></div><div class="cell code_cell rendered unselected" tabindex="2"><div class="input"><div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-ipython"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 56.6px; left: 47.2667px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; min-width: 853px; margin-bottom: -8px; border-right-width: 22px; min-height: 215px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style=""><div class="CodeMirror-cursor" style="left: 41.6667px; top: 51px; height: 17px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-comment">#! ASSESSMENT 1 - DO NOT CHANGE, MOVE NOR COPY</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-keyword">with</span> <span class="cm-variable">tf</span>.<span class="cm-variable">Session</span>() <span class="cm-keyword">as</span> <span class="cm-variable">sess</span>:</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment"># LOAD THE MODEL</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">summary_writer</span> = <span class="cm-variable">tf</span>.<span class="cm-variable">train</span>.<span class="cm-variable">SummaryWriter</span>(<span class="cm-string">'/tmp/tensorflow_logs/NLP3'</span>, <span class="cm-variable">graph</span>=<span class="cm-variable">tf</span>.<span class="cm-variable">get_default_graph</span>())</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">saver</span> = <span class="cm-variable">tf</span>.<span class="cm-variable">train</span>.<span class="cm-variable">Saver</span>()</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">saver</span>.<span class="cm-variable">restore</span>(<span class="cm-variable">sess</span>, <span class="cm-string">'./model/model.checkpoint'</span>)</span></pre><pre class=" CodeMirror-line "><span>    </span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-comment"># RUN TEST SET EVALUATION</span></span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">dev_predicted</span> = <span class="cm-variable">sess</span>.<span class="cm-variable">run</span>(<span class="cm-variable">predict</span>, <span class="cm-variable">feed_dict</span>=<span class="cm-variable">test_feed_dict</span>)</span></pre><pre class=" CodeMirror-line "><span>    <span class="cm-variable">dev_accuracy</span> = <span class="cm-variable">nn</span>.<span class="cm-variable">calculate_accuracy</span>(<span class="cm-variable">dev_orders</span>, <span class="cm-variable">dev_predicted</span>)</span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable">dev_accuracy</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 215px;"></div><div class="CodeMirror-gutters" style="display: none; height: 237px;"></div></div></div></div></div></div><div class="widget-area connection-problems" style="display: none;"><div class="prompt"><button class="close">×</button></div><div class="widget-subarea"></div></div><div class="output_wrapper"><div style="" class="out_prompt_overlay prompt" title="click to scroll output; double click to hide"></div><div class="output" style=""></div><div style="display: none;" class="btn btn-default output_collapsed" title="click to expand output">. . .</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59961px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 47px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 19.0833px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## </span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">font</span> <span class="cm-attribute">color</span>=<span class="cm-string">'orange'</span><span class="cm-tag cm-bracket">&gt;</span>Mark<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">font</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-header cm-header-2">:  Your solution to Task 1 is marked with </span><span class="cm-strong cm-header cm-header-2">** </span><span class="cm-strong cm-em cm-header cm-header-2">__</span><span class="cm-strong cm-header cm-header-2"> points**</span><span class="cm-header cm-header-2">. </span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-hr">---</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 47px;"></div><div class="CodeMirror-gutters" style="display: none; height: 69px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Mark:--Your-solution-to-Task-1-is-marked-with--__-points."><font color="orange">Mark</font>:  Your solution to Task 1 is marked with <strong> __ points</strong>.<a class="anchor-link" href="#Mark:--Your-solution-to-Task-1-is-marked-with--__-points.">¶</a></h2>
<hr>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59961px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 166px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 19.0833px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## </span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">font</span> <span class="cm-attribute">color</span>=<span class="cm-string">'blue'</span><span class="cm-tag cm-bracket">&gt;</span>Task 2<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">font</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-header cm-header-2">: Describe your Approach</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>Enter a 750 words max description of your approach <span class="cm-strong">**in this cell**</span>.</span></pre><pre class=" CodeMirror-line "><span>Make sure to provide:</span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">- an </span><span class="cm-strong cm-variable-2">**error analysis**</span><span class="cm-variable-2"> of the types of errors your system makes</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">- compare your system with the model we provide, focus on differences and draw useful comparations between them</span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>Should you need to include figures in your report, make sure they are Python-generated. For that, feel free to create new cells after this cell (before Assessment 2 cell). Link online images at your risk.</span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 166px;"></div><div class="CodeMirror-gutters" style="display: none; height: 188px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Task-2:-Describe-your-Approach"><font color="blue">Task 2</font>: Describe your Approach<a class="anchor-link" href="#Task-2:-Describe-your-Approach">¶</a></h2>
<p>Enter a 750 words max description of your approach <strong>in this cell</strong>.
Make sure to provide:</p>
<ul>
<li>an <strong>error analysis</strong> of the types of errors your system makes</li>
<li>compare your system with the model we provide, focus on differences and draw useful comparations between them</li>
</ul>
<p>Should you need to include figures in your report, make sure they are
 Python-generated. For that, feel free to create new cells after this 
cell (before Assessment 2 cell). Link online images at your risk.</p>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.60059px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 149px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 19.0833px;">&nbsp;</div></div><div class="CodeMirror-code" style=""><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## </span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">font</span> <span class="cm-attribute">color</span>=<span class="cm-string">'red'</span><span class="cm-tag cm-bracket">&gt;</span>Assessment 2<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">font</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-header cm-header-2">: Assess Description (30 pts) </span></span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span>We will mark the description along the following dimensions: </span></pre><pre class=" CodeMirror-line "><span><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* Clarity (10pts: very clear, 0pts: we can't figure out what you did, or you did nothing)</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* Creativity (10pts: we could not have come up with this, 0pts: Use only the provided model)</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-variable-2">* Substance (10pts: implemented complex state-of-the-art classifier, compared it to a simpler model, 0pts: Only use what is already there)</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 149px;"></div><div class="CodeMirror-gutters" style="display: none; height: 171px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Assessment-2:-Assess-Description-(30-pts)"><font color="red">Assessment 2</font>: Assess Description (30 pts)<a class="anchor-link" href="#Assessment-2:-Assess-Description-%2830-pts%29">¶</a></h2>
<p>We will mark the description along the following dimensions: </p>
<ul>
<li>Clarity (10pts: very clear, 0pts: we can't figure out what you did, or you did nothing)</li>
<li>Creativity (10pts: we could not have come up with this, 0pts: Use only the provided model)</li>
<li>Substance (10pts: implemented complex state-of-the-art classifier, 
compared it to a simpler model, 0pts: Only use what is already there)</li>
</ul>
</div></div></div><div class="cell text_cell unselected rendered" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59961px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 47px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 19.0833px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## </span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">font</span> <span class="cm-attribute">color</span>=<span class="cm-string">'orange'</span><span class="cm-tag cm-bracket">&gt;</span>Mark<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">font</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-header cm-header-2">:  Your solution to Task 2 is marked with </span><span class="cm-strong cm-header cm-header-2">** </span><span class="cm-strong cm-em cm-header cm-header-2">__</span><span class="cm-strong cm-header cm-header-2"> points**</span><span class="cm-header cm-header-2">.</span></span></pre><pre class=" CodeMirror-line "><span><span class="cm-hr">---</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 47px;"></div><div class="CodeMirror-gutters" style="display: none; height: 69px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Mark:--Your-solution-to-Task-2-is-marked-with--__-points."><font color="orange">Mark</font>:  Your solution to Task 2 is marked with <strong> __ points</strong>.<a class="anchor-link" href="#Mark:--Your-solution-to-Task-2-is-marked-with--__-points.">¶</a></h2>
<hr>
</div></div></div><div class="cell text_cell rendered unselected" tabindex="2"><div class="prompt input_prompt"></div><div class="inner_cell"><div class="ctb_hideshow"><div class="celltoolbar"></div></div><div class="input_area"><div class="CodeMirror cm-s-default CodeMirror-wrap"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 5.59961px; left: 5.60004px;"><textarea style="position: absolute; padding: 0px; width: 1px; height: 1em; outline: medium none;" autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" wrap="off"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1" draggable="true"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 0px; padding-bottom: 0px; margin-bottom: -8px; border-right-width: 22px; min-height: 49px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: medium none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 0px; top: 0px; height: 20.1253px;">&nbsp;</div></div><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span><span class="cm-header cm-header-2">## </span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">font</span> <span class="cm-attribute">color</span>=<span class="cm-string">'orange'</span><span class="cm-tag cm-bracket">&gt;</span>Final mark<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">font</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-header cm-header-2">: Your solution to Assignment 3 is marked with </span><span class="cm-strong cm-header cm-header-2">** </span><span class="cm-strong cm-em cm-header cm-header-2">__</span><span class="cm-strong cm-header cm-header-2">points**</span><span class="cm-header cm-header-2">. </span></span></pre></div></div></div></div></div><div style="position: absolute; height: 22px; width: 1px; top: 49px;"></div><div class="CodeMirror-gutters" style="display: none; height: 71px;"></div></div></div></div><div class="text_cell_render rendered_html" tabindex="-1"><h2 id="Final-mark:-Your-solution-to-Assignment-3-is-marked-with--__points."><font color="orange">Final mark</font>: Your solution to Assignment 3 is marked with <strong> __points</strong>.<a class="anchor-link" href="#Final-mark:-Your-solution-to-Assignment-3-is-marked-with--__points.">¶</a></h2>
</div></div></div></div><div class="end_space"></div></div>
        <div id="tooltip" class="ipython_tooltip" style="display:none"><div class="tooltipbuttons"><a href="#" role="button" class="ui-button"><span class="ui-icon ui-icon-close">Close</span></a><a href="#" class="ui-corner-all" role="button" id="expanbutton" title="Grow the tooltip vertically (press shift-tab twice)"><span class="ui-icon ui-icon-plus">Expand</span></a><a href="#" role="button" class="ui-button" title="show the current docstring in pager (press shift-tab 4 times)"><span class="ui-icon ui-icon-arrowstop-l-n">Open in Pager</span></a><a href="#" role="button" class="ui-button" title="Tooltip will linger for 10 seconds while you type" style="display: none;"><span class="ui-icon ui-icon-clock">Close</span></a></div><div class="pretooltiparrow"></div><div class="tooltiptext smalltooltip"></div></div>
    </div>
</div>



</div>



<div id="pager" class="ui-resizable">
    <div id="pager-contents">
        <div id="pager-container" class="container"></div>
    </div>
    <div id="pager-button-area"><a role="button" title="Open the pager in an external window" class="ui-button"><span class="ui-icon ui-icon-extlink"></span></a><a role="button" title="Close the pager" class="ui-button"><span class="ui-icon ui-icon-close"></span></a></div>
<div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div></div>






<script type="text/javascript">
    sys_info = {"platform": "Linux-4.4.0-57-generic-x86_64-with-debian-8.4", "os_name": "posix", "sys_platform": "linux", "notebook_version": "4.2.2", "sys_executable": "/opt/conda/bin/python", "commit_source": "", "default_encoding": "UTF-8", "sys_version": "3.5.2 |Continuum Analytics, Inc.| (default, Jul  2 2016, 17:53:06) \n[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)]", "notebook_path": "/opt/conda/lib/python3.5/site-packages/notebook", "commit_hash": ""};
</script>

<script src="BadrulStub_v002_files/encoding.js" charset="utf-8"></script>


    <script src="BadrulStub_v002_files/main.js" type="text/javascript" charset="utf-8"></script>






<div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px none; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; padding: 0px; border: 0px none; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-size-adjust: none; font-family: STIXMathJax_Main,sans-serif;"></div></div><div class="widget-modal-backdrop widget-modal-hidden"><div class="widget-modal-text"><i class="fa fa-cog fa-spin"></i><div>Rendering widgets...</div></div><div class="progress widget-modal-progress"><div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div></div></body></html>